# 创建集群<a name="mrs_02_0101"></a>

## 功能介绍<a name="section112421764218"></a>

创建一个MRS集群。 使用接口前，您需要先获取下的资源信息。

-   通过VPC创建或查询VPC、子网
-   通过ECS创建或查询密钥对
-   通过[终端节点](终端节点.md)获取区域信息
-   参考[MRS服务支持的组件](获取MRS集群信息.md#section1741815651015)获取MRS版本及对应版本支持的组件信息

## 接口约束<a name="section1524556122120"></a>

无

## URI<a name="section13245136112114"></a>

POST /v2/\{project\_id\}/clusters

**表 1**  路径参数

<a name="table824815619218"></a>
<table><thead align="left"><tr id="row162476662112"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p524817613213"><a name="p524817613213"></a><a name="p524817613213"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p724811610219"><a name="p724811610219"></a><a name="p724811610219"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p9249166112111"><a name="p9249166112111"></a><a name="p9249166112111"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p1024917652119"><a name="p1024917652119"></a><a name="p1024917652119"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row2247186202111"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p225056202119"><a name="p225056202119"></a><a name="p225056202119"></a>project_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p152501264215"><a name="p152501264215"></a><a name="p152501264215"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p4250146132116"><a name="p4250146132116"></a><a name="p4250146132116"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1625196102118"><a name="p1625196102118"></a><a name="p1625196102118"></a>项目编号。获取方法，请参见<a href="获取项目ID.md">获取项目ID</a>。</p>
</td>
</tr>
</tbody>
</table>

## 请求参数<a name="section1225210613211"></a>

**表 2**  请求Header参数

<a name="zh-cn_topic_0000001075561622_HeaderParameter"></a>
<table><thead align="left"><tr id="row32521069211"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p125420613213"><a name="p125420613213"></a><a name="p125420613213"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p62541063213"><a name="p62541063213"></a><a name="p62541063213"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p525576162119"><a name="p525576162119"></a><a name="p525576162119"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p11255469213"><a name="p11255469213"></a><a name="p11255469213"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row625216682120"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p825610642116"><a name="p825610642116"></a><a name="p825610642116"></a>X-Auth-Token</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1625686202115"><a name="p1625686202115"></a><a name="p1625686202115"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p5257156122115"><a name="p5257156122115"></a><a name="p5257156122115"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p725711618213"><a name="p725711618213"></a><a name="p725711618213"></a>用户Token。</p>
<p id="p52589611218"><a name="p52589611218"></a><a name="p52589611218"></a>通过调用IAM服务获取用户Token接口获取（响应消息头中X-Subject-Token的值）。</p>
</td>
</tr>
<tr id="row16287142732710"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p112881127202717"><a name="p112881127202717"></a><a name="p112881127202717"></a>Content-Type</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p323853522718"><a name="p323853522718"></a><a name="p323853522718"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p923823512276"><a name="p923823512276"></a><a name="p923823512276"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1498118421334"><a name="p1498118421334"></a><a name="p1498118421334"></a>发送的实体的MIME类型。</p>
<p id="p18288172762711"><a name="p18288172762711"></a><a name="p18288172762711"></a>推荐用户默认使用application/json; charset=utf-8。</p>
</td>
</tr>
</tbody>
</table>

**表 3**  请求Body参数

<a name="zh-cn_topic_0000001075561622_requestParameter"></a>
<table><thead align="left"><tr id="row1126017618214"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p126518652115"><a name="p126518652115"></a><a name="p126518652115"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p1526536112111"><a name="p1526536112111"></a><a name="p1526536112111"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p726656182111"><a name="p726656182111"></a><a name="p726656182111"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p1526626102111"><a name="p1526626102111"></a><a name="p1526626102111"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row152619611211"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p112664692117"><a name="p112664692117"></a><a name="p112664692117"></a>is_dec_project</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p2267268218"><a name="p2267268218"></a><a name="p2267268218"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p192671616216"><a name="p192671616216"></a><a name="p192671616216"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1268167211"><a name="p1268167211"></a><a name="p1268167211"></a>说明是否为专属云的资源，默认为false</p>
</td>
</tr>
<tr id="row326118682112"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p026817615211"><a name="p026817615211"></a><a name="p026817615211"></a>cluster_version</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p326814612214"><a name="p326814612214"></a><a name="p326814612214"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p8269463214"><a name="p8269463214"></a><a name="p8269463214"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1269767216"><a name="p1269767216"></a><a name="p1269767216"></a>集群版本。 MRS目前支持MRS 1.9.2、MRS 3.1.0版本。</p>
</td>
</tr>
<tr id="row122619662113"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p427016616218"><a name="p427016616218"></a><a name="p427016616218"></a>cluster_name</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p227010602113"><a name="p227010602113"></a><a name="p227010602113"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p527118672114"><a name="p527118672114"></a><a name="p527118672114"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p112711562212"><a name="p112711562212"></a><a name="p112711562212"></a>集群名称，不允许相同。 只能由字母、数字、中划线和下划线组成，并且长度为2～64个字符。</p>
</td>
</tr>
<tr id="row152610672113"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p152730615216"><a name="p152730615216"></a><a name="p152730615216"></a>cluster_type</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p6273156122115"><a name="p6273156122115"></a><a name="p6273156122115"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p192741165213"><a name="p192741165213"></a><a name="p192741165213"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p172745602110"><a name="p172745602110"></a><a name="p172745602110"></a>集群类型，取值范围：</p>
<a name="ul1127510612116"></a><a name="ul1127510612116"></a><ul id="ul1127510612116"><li>ANALYSIS：分析集群</li><li>STREAMING：流式集群</li><li>MIXED：混合集群</li><li>CUSTOM：自定义集群，仅MRS 3.x版本支持。</li></ul>
</td>
</tr>
<tr id="row526114615219"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p7277156142119"><a name="p7277156142119"></a><a name="p7277156142119"></a>charge_info</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p15277106172114"><a name="p15277106172114"></a><a name="p15277106172114"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p152784618211"><a name="p152784618211"></a><a name="p152784618211"></a><a href="#zh-cn_topic_0000001075561622_request_ChargeInfo">ChargeInfo</a> object</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p527817612219"><a name="p527817612219"></a><a name="p527817612219"></a>计费类型信息。</p>
</td>
</tr>
<tr id="row132616632114"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p142791465214"><a name="p142791465214"></a><a name="p142791465214"></a>region</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p17279156142118"><a name="p17279156142118"></a><a name="p17279156142118"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p82801963211"><a name="p82801963211"></a><a name="p82801963211"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1728016615219"><a name="p1728016615219"></a><a name="p1728016615219"></a>集群所在区域信息，请参见<a href="终端节点.md">终端节点及区域</a>。</p>
</td>
</tr>
<tr id="row112619662116"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p202814615212"><a name="p202814615212"></a><a name="p202814615212"></a>vpc_name</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1028113682116"><a name="p1028113682116"></a><a name="p1028113682116"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p152829682114"><a name="p152829682114"></a><a name="p152829682114"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p18282196122119"><a name="p18282196122119"></a><a name="p18282196122119"></a>子网所在VPC名称。 通过VPC管理控制台获取名称：</p>
<a name="ol2282365211"></a><a name="ol2282365211"></a><ol id="ol2282365211"><li>登录管理控制台。</li><li>单击“虚拟私有云”，从左侧列表选择虚拟私有云。</li></ol>
<p id="p1228336132117"><a name="p1228336132117"></a><a name="p1228336132117"></a>在“虚拟私有云”页面的列表中即可获取VPC名称。</p>
</td>
</tr>
<tr id="row162623642114"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p92846632117"><a name="p92846632117"></a><a name="p92846632117"></a>subnet_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p12284176152110"><a name="p12284176152110"></a><a name="p12284176152110"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1328576182112"><a name="p1328576182112"></a><a name="p1328576182112"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1444484315312"><a name="p1444484315312"></a><a name="p1444484315312"></a>子网ID。通过VPC管理控制台获取子网ID：</p>
<a name="ol54444431312"></a><a name="ol54444431312"></a><ol id="ol54444431312"><li>登录VPC管理控制台。</li><li>单击“虚拟私有云”，从左侧列表选择虚拟私有云。</li><li>单击对应虚拟私有云所在行的“子网个数”查看子网。</li><li>单击对应子网名称，获取“网络ID”。</li></ol>
<p id="p131836084419"><a name="p131836084419"></a><a name="p131836084419"></a>“subnet_id”和“subnet_name”必须至少填写一个，当这两个参数同时配置但是不匹配同一个子网时，集群会创建失败，请仔细填写参数。推荐使用“subnet_id”。</p>
</td>
</tr>
<tr id="row781711229913"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p198171822890"><a name="p198171822890"></a><a name="p198171822890"></a>subnet_name</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p13144112141015"><a name="p13144112141015"></a><a name="p13144112141015"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p51447231012"><a name="p51447231012"></a><a name="p51447231012"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p12340122818412"><a name="p12340122818412"></a><a name="p12340122818412"></a>子网名称。 通过VPC管理控制台获取子网名称：</p>
<a name="ol6341328134119"></a><a name="ol6341328134119"></a><ol id="ol6341328134119"><li>登录管理控制台。</li><li>单击“虚拟私有云”，从左侧列表选择虚拟私有云。</li><li>单击对应虚拟私有云所在行的“子网个数”查看子网，获取子网名称。</li></ol>
<p id="p346514164412"><a name="p346514164412"></a><a name="p346514164412"></a>“subnet_id”和“subnet_name”必须至少填写一个，当这两个参数同时配置但是不匹配同一个子网时，集群会创建失败，请仔细填写参数。当仅填写“subnet_name”一个参数且VPC下存在同名子网时，创建集群时以VPC平台第一个名称的子网为准。推荐使用“subnet_id”。</p>
</td>
</tr>
<tr id="row1926212615217"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1328815610214"><a name="p1328815610214"></a><a name="p1328815610214"></a>components</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p192887615216"><a name="p192887615216"></a><a name="p192887615216"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p628812622117"><a name="p628812622117"></a><a name="p628812622117"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p82891468216"><a name="p82891468216"></a><a name="p82891468216"></a>组件名称列表，用逗号分隔。支持的组件请参见<a href="获取MRS集群信息.md#section1741815651015">MRS服务支持的组件</a>。</p>
</td>
</tr>
<tr id="row1226266172116"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p12892612114"><a name="p12892612114"></a><a name="p12892612114"></a>availability_zone</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1529014619217"><a name="p1529014619217"></a><a name="p1529014619217"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p429114692119"><a name="p429114692119"></a><a name="p429114692119"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p12914652110"><a name="p12914652110"></a><a name="p12914652110"></a>可用分区名称。 可用分区信息请参见<a href="终端节点.md">终端节点及区域</a>。</p>
</td>
</tr>
<tr id="row82628611218"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p129226112113"><a name="p129226112113"></a><a name="p129226112113"></a>security_groups_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p20293663219"><a name="p20293663219"></a><a name="p20293663219"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p14293116192117"><a name="p14293116192117"></a><a name="p14293116192117"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p92941615218"><a name="p92941615218"></a><a name="p92941615218"></a>集群安全组的ID。</p>
<a name="ul8294196172119"></a><a name="ul8294196172119"></a><ul id="ul8294196172119"><li>当该ID为空时MRS后台会自动创建安全组，自动创建的安全组名称以mrs_{cluster_name}开头。</li><li>当该ID不为空时，表示使用固定安全组来创建集群，传入的ID必须是当前租户中包含的安全组ID，且该安全组中需要包含一条支持全部协议、全部端口、源地址为指定的管理面节点IP的入方向规则。</li></ul>
</td>
</tr>
<tr id="row53443508136"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p093245910130"><a name="p093245910130"></a><a name="p093245910130"></a>auto_create_default_security_group</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p19932195913134"><a name="p19932195913134"></a><a name="p19932195913134"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p18932559201310"><a name="p18932559201310"></a><a name="p18932559201310"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p14441152142315"><a name="p14441152142315"></a><a name="p14441152142315"></a>是否要创建MRS集群默认安全组，默认为false。</p>
<p id="p11933159101317"><a name="p11933159101317"></a><a name="p11933159101317"></a>当指定该参数为true，则无论<span class="parmname" id="parmname196571935192314"><a name="parmname196571935192314"></a><a name="parmname196571935192314"></a>“security_groups_id”</span>参数是否指定，都会为集群创建默认安全组。</p>
</td>
</tr>
<tr id="row126217610210"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1529546142120"><a name="p1529546142120"></a><a name="p1529546142120"></a>safe_mode</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p17296126112117"><a name="p17296126112117"></a><a name="p17296126112117"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p2296265212"><a name="p2296265212"></a><a name="p2296265212"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p10297162211"><a name="p10297162211"></a><a name="p10297162211"></a>MRS集群运行模式。</p>
<a name="ul12977692118"></a><a name="ul12977692118"></a><ul id="ul12977692118"><li>SIMPLE：普通集群，表示Kerberos认证关闭，用户可使用集群提供的所有功能。</li><li>KERBEROS：安全集群，表示Kerberos认证开启，普通用户无权限使用MRS集群的“文件管理”和“作业管理”功能，并且无法查看Hadoop、Spark的作业记录以及集群资源使用情况。如果需要使用集群更多功能，需要找Manager的管理员分配权限。</li></ul>
</td>
</tr>
<tr id="row192623622115"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1229812682112"><a name="p1229812682112"></a><a name="p1229812682112"></a>manager_admin_password</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p82983632113"><a name="p82983632113"></a><a name="p82983632113"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p192996662116"><a name="p192996662116"></a><a name="p192996662116"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1929912617211"><a name="p1929912617211"></a><a name="p1929912617211"></a>配置Manager管理员用户的密码。</p>
<a name="ul162998619217"></a><a name="ul162998619217"></a><ul id="ul162998619217"><li>密码长度应在8～32个字符之间</li><li>至少包含三种字符组合，如大写字母，小写字母，数字，特殊字符（`~!@#$%^&amp;*()-_=+|[{}];:'",&lt;.&gt;/?）和空格。</li><li>不能与用户名或者倒序用户名相同</li></ul>
<p id="p9301106152112"><a name="p9301106152112"></a><a name="p9301106152112"></a>说明： 针对MRS 1.7.2及之前的版本，仅当“safe_mode”配置为“KERBEROS”时需要配置此参数。</p>
</td>
</tr>
<tr id="row426311614212"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1630396122119"><a name="p1630396122119"></a><a name="p1630396122119"></a>login_mode</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p19304116132115"><a name="p19304116132115"></a><a name="p19304116132115"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p12304461212"><a name="p12304461212"></a><a name="p12304461212"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p33055672111"><a name="p33055672111"></a><a name="p33055672111"></a>节点登录方式。</p>
<a name="ul1230556162118"></a><a name="ul1230556162118"></a><ul id="ul1230556162118"><li>PASSWORD：密码登录，选择此项时，node_root_password不能为空。</li><li>KEYPAIR：密钥对登录，选择此项时，node_keypair_name不能为空。</li></ul>
</td>
</tr>
<tr id="row142631767211"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p330713662110"><a name="p330713662110"></a><a name="p330713662110"></a>node_root_password</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p23086662115"><a name="p23086662115"></a><a name="p23086662115"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p16308116102113"><a name="p16308116102113"></a><a name="p16308116102113"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p23092614214"><a name="p23092614214"></a><a name="p23092614214"></a>配置访问集群节点的root密码。 密码设置约束如下：</p>
<a name="ul1530916192111"></a><a name="ul1530916192111"></a><ul id="ul1530916192111"><li>字符串类型，可输入的字符串长度为8-26。</li><li>至少包含三种字符组合，如大写字母，小写字母，数字，特殊字符（!@$%^-_=+[{}]:,./?），但不能包含空格。</li><li>不能与用户名或者倒序用户名相同。</li></ul>
</td>
</tr>
<tr id="row526319616213"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p531119613217"><a name="p531119613217"></a><a name="p531119613217"></a>node_keypair_name</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p143112067215"><a name="p143112067215"></a><a name="p143112067215"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p18312196112111"><a name="p18312196112111"></a><a name="p18312196112111"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p3313206162115"><a name="p3313206162115"></a><a name="p3313206162115"></a>密钥对名称。用户可以使用密钥对方式登录集群节点。</p>
</td>
</tr>
<tr id="row926316192113"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p8313186142111"><a name="p8313186142111"></a><a name="p8313186142111"></a>enterprise_project_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p931414632114"><a name="p931414632114"></a><a name="p931414632114"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p331476122119"><a name="p331476122119"></a><a name="p331476122119"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p631414620214"><a name="p631414620214"></a><a name="p631414620214"></a>企业项目ID。</p>
<p id="p1231513619219"><a name="p1231513619219"></a><a name="p1231513619219"></a>创建集群时，给集群绑定企业项目ID。</p>
<p id="p1731511611213"><a name="p1731511611213"></a><a name="p1731511611213"></a>默认设置为0，表示为default企业项目。</p>
<p id="p173151614219"><a name="p173151614219"></a><a name="p173151614219"></a>获取方式请参见《企业管理API参考》的“查询企业项目列表”响应消息表“enterprise_project字段数据结构说明”的“id”。</p>
</td>
</tr>
<tr id="row182639617218"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1331610614215"><a name="p1331610614215"></a><a name="p1331610614215"></a>eip_address</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p531620632111"><a name="p531620632111"></a><a name="p531620632111"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p163179692116"><a name="p163179692116"></a><a name="p163179692116"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p83181962218"><a name="p83181962218"></a><a name="p83181962218"></a>与MRS集群绑定的弹性公网IP，可实现使用弹性公网IP访问Manager的目的。该弹性公网IP必须已经创建且与集群在同一区域。</p>
</td>
</tr>
<tr id="row1626319642112"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1131916615213"><a name="p1131916615213"></a><a name="p1131916615213"></a>eip_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p731966102115"><a name="p731966102115"></a><a name="p731966102115"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p632014602117"><a name="p632014602117"></a><a name="p632014602117"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p5321161219"><a name="p5321161219"></a><a name="p5321161219"></a>当“eip_address”配置时，该参数必须配置，用于表示绑定的弹性公网IP的ID。可通过在VPC服务的“网络控制台 &gt; 弹性公网IP和带宽 &gt; 弹性公网IP”页面单击待绑定的弹性公网IP，在基本信息中获取“ID”。</p>
</td>
</tr>
<tr id="row19263964218"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p2032118622117"><a name="p2032118622117"></a><a name="p2032118622117"></a>mrs_ecs_default_agency</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p53221362212"><a name="p53221362212"></a><a name="p53221362212"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p133239617211"><a name="p133239617211"></a><a name="p133239617211"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p43231672111"><a name="p43231672111"></a><a name="p43231672111"></a>集群节点默认绑定的委托名称，固定为MRS_ECS_DEFAULT_AGENCY。 通过绑定委托，您可以将部分资源共享给ECS或BMS云服务来管理，例如通过配置ECS委托可自动获取AK/SK访问OBS。 MRS_ECS_DEFAULT_AGENCY委托拥有对象存储服务的OBS OperateAccess权限和在集群所在区域拥有CES FullAccess（对开启细粒度策略的用户）、CES Administrator和KMS Administrator权限。</p>
</td>
</tr>
<tr id="row1726314642114"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1432496102116"><a name="p1432496102116"></a><a name="p1432496102116"></a>template_id</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p732415619212"><a name="p732415619212"></a><a name="p732415619212"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p33256622113"><a name="p33256622113"></a><a name="p33256622113"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p163261682118"><a name="p163261682118"></a><a name="p163261682118"></a>当集群类型为CUSTOM时，用于指定节点部署所使用的模板。</p>
<a name="ul632615682118"></a><a name="ul632615682118"></a><ul id="ul632615682118"><li>mgmt_control_combined_v2：管控合设模板，管理角色和控制角色共同部署在Master节点中，数据实例合设在同一节点组。该部署方式适用于100个以下的节点，可以减少成本。</li><li>mgmt_control_separated_v2：管控分设模板，管理角色和控制角色分别部署在不同的Master节点中，数据实例合设在同一节点组。该部署方式适用于100-500个节点，在高并发负载情况下表现更好。</li><li>mgmt_control_data_separated_v2：数据分设模板，管理角色和控制角色分别部署在不同的Master节点中，数据实例分设在不同节点组。该部署方式适用于500个以上的节点，可以将各组件进一步分开部署，适用于更大的集群规模。</li></ul>
</td>
</tr>
<tr id="row7263266211"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p432812613214"><a name="p432812613214"></a><a name="p432812613214"></a>tags</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p43281866213"><a name="p43281866213"></a><a name="p43281866213"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p153291468217"><a name="p153291468217"></a><a name="p153291468217"></a>Array of <a href="#zh-cn_topic_0000001075561622_request_tag">tag</a> objects</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p43297632113"><a name="p43297632113"></a><a name="p43297632113"></a>集群的标签信息。 同一个集群最多能使用10个tag，tag的名称（key）不能重复。</p>
</td>
</tr>
<tr id="row1826316632112"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p533046102111"><a name="p533046102111"></a><a name="p533046102111"></a>log_collection</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p13316611210"><a name="p13316611210"></a><a name="p13316611210"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p9331166162113"><a name="p9331166162113"></a><a name="p9331166162113"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p333213615212"><a name="p333213615212"></a><a name="p333213615212"></a>集群创建失败时，是否收集失败日志。 默认设置为1，此时将创建OBS桶仅用于MRS集群创建失败时的日志收集。</p>
<p id="p1033318682110"><a name="p1033318682110"></a><a name="p1033318682110"></a>枚举值：</p>
<a name="ul93333616211"></a><a name="ul93333616211"></a><ul id="ul93333616211"><li><strong id="b63347662118"><a name="b63347662118"></a><a name="b63347662118"></a>0：不收集</strong></li><li><strong id="b633406142117"><a name="b633406142117"></a><a name="b633406142117"></a>1：收集</strong></li></ul>
</td>
</tr>
<tr id="row326311682116"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p43341068211"><a name="p43341068211"></a><a name="p43341068211"></a>node_groups</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p633596142114"><a name="p633596142114"></a><a name="p633596142114"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p333646152114"><a name="p333646152114"></a><a name="p333646152114"></a>Array of <a href="#zh-cn_topic_0000001075561622_request_NodeGroupV2">NodeGroupV2</a> objects</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p2033619622118"><a name="p2033619622118"></a><a name="p2033619622118"></a>组成集群的节点组信息。</p>
</td>
</tr>
<tr id="row426366132110"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p173378682114"><a name="p173378682114"></a><a name="p173378682114"></a>bootstrap_scripts</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p173371467218"><a name="p173371467218"></a><a name="p173371467218"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p7337063218"><a name="p7337063218"></a><a name="p7337063218"></a>Array of <a href="#zh-cn_topic_0000001075561622_request_bootstrap_script">bootstrap_script</a> objects</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p15338116162118"><a name="p15338116162118"></a><a name="p15338116162118"></a>配置引导操作脚本信息。 MRS 1.7.2及以后版本支持该参数。</p>
</td>
</tr>
<tr id="row2264126122117"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p533813642119"><a name="p533813642119"></a><a name="p533813642119"></a>add_jobs</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p933913642118"><a name="p933913642118"></a><a name="p933913642118"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1533917682115"><a name="p1533917682115"></a><a name="p1533917682115"></a>Array of <a href="#zh-cn_topic_0000001075561622_request_add_jobs">add_jobs</a> objects</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p143391364214"><a name="p143391364214"></a><a name="p143391364214"></a>创建集群时可同时提交作业，当前版本暂时只支持新增一个作业。</p>
</td>
</tr>
</tbody>
</table>

**表 4**  tag

<a name="zh-cn_topic_0000001075561622_request_tag"></a>
<table><thead align="left"><tr id="row53401567213"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p334114692117"><a name="p334114692117"></a><a name="p334114692117"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p1334215662115"><a name="p1334215662115"></a><a name="p1334215662115"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p163421266216"><a name="p163421266216"></a><a name="p163421266216"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p534310612218"><a name="p534310612218"></a><a name="p534310612218"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row20340126162116"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p5343196152113"><a name="p5343196152113"></a><a name="p5343196152113"></a>key</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1344156182117"><a name="p1344156182117"></a><a name="p1344156182117"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p834414611214"><a name="p834414611214"></a><a name="p834414611214"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p434417622112"><a name="p434417622112"></a><a name="p434417622112"></a>键。</p>
<a name="ul1934596192114"></a><a name="ul1934596192114"></a><ul id="ul1934596192114"><li>最大长度36个unicode字符，不能为空字符串。</li><li>标签的key值不能包含非打印字符ASCII(0-31)，“=”,“*”,“&lt;”,“&gt;”,“\”,“,”,“|”,“/”，且首尾字符不能为空格。</li><li>同一资源的key值不能重复。</li></ul>
</td>
</tr>
<tr id="row534018602114"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p63488602118"><a name="p63488602118"></a><a name="p63488602118"></a>value</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p234813616213"><a name="p234813616213"></a><a name="p234813616213"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1934916612214"><a name="p1934916612214"></a><a name="p1934916612214"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p43491672114"><a name="p43491672114"></a><a name="p43491672114"></a>值。</p>
<a name="ul193490672117"></a><a name="ul193490672117"></a><ul id="ul193490672117"><li>最大长度43个unicode字符，可以为空字符串。</li><li>标签的value值不能包含非打印字符ASCII(0-31)，“=”,“*”,“&lt;”,“&gt;”,“\”,“,”,“|”,“/”，且首尾字符不能为空格。</li></ul>
</td>
</tr>
</tbody>
</table>

**表 5**  NodeGroupV2

<a name="zh-cn_topic_0000001075561622_request_NodeGroupV2"></a>
<table><thead align="left"><tr id="row143537662110"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p18676157122118"><a name="p18676157122118"></a><a name="p18676157122118"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p196763715211"><a name="p196763715211"></a><a name="p196763715211"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p1067697192119"><a name="p1067697192119"></a><a name="p1067697192119"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p1067767172110"><a name="p1067767172110"></a><a name="p1067767172110"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row193542632119"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p167757132119"><a name="p167757132119"></a><a name="p167757132119"></a>group_name</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1167714752115"><a name="p1167714752115"></a><a name="p1167714752115"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p86775712217"><a name="p86775712217"></a><a name="p86775712217"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p96778742115"><a name="p96778742115"></a><a name="p96778742115"></a>节点组名称，最大长度64，支持大小写英文、数字以及“_”。节点组配置原则如下：</p>
<a name="ul1167719742118"></a><a name="ul1167719742118"></a><ul id="ul1167719742118"><li>master_node_default_group：Master节点组，所有集群类型均需包含该节点组。</li><li>core_node_analysis_group：分析Core节点组，分析集群、混合集群均需包含该节点组。</li><li>core_node_streaming_group：流式Core节点组，流式集群和混合集群均需包含该节点组。</li><li>task_node_analysis_group：分析Task节点组，分析集群和混合集群可根据需要选择该节点组。</li><li>task_node_streaming_group：流式Task节点组，流式集群、混合集群可根据需要选择该节点组。</li><li>node_group{x}：自定义集群节点组，可根据需要添加多个，最多支持添加9个该节点组。</li></ul>
</td>
</tr>
<tr id="row135418622110"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p067820792117"><a name="p067820792117"></a><a name="p067820792117"></a>node_num</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p76781073212"><a name="p76781073212"></a><a name="p76781073212"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p2678177162118"><a name="p2678177162118"></a><a name="p2678177162118"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p267867162113"><a name="p267867162113"></a><a name="p267867162113"></a>节点数量，取值范围0～500，Core与Task节点总数最大为500个。</p>
</td>
</tr>
<tr id="row1835418602117"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1167918722112"><a name="p1167918722112"></a><a name="p1167918722112"></a>node_size</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1367912714212"><a name="p1367912714212"></a><a name="p1367912714212"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p12679272217"><a name="p12679272217"></a><a name="p12679272217"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p13679177202120"><a name="p13679177202120"></a><a name="p13679177202120"></a>节点的实例规格。例如：c3.4xlarge.2.linux.bigdata。实例规格详细说明请参见<a href="MRS所使用的弹性云服务器规格.md">MRS所使用的弹性云服务器规格</a>和<a href="MRS所使用的裸金属服务器规格.md">MRS所使用的裸金属服务器规格</a>。</p>
</td>
</tr>
<tr id="row135412642120"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1268047172110"><a name="p1268047172110"></a><a name="p1268047172110"></a>root_volume</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p176801777217"><a name="p176801777217"></a><a name="p176801777217"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p36806713218"><a name="p36806713218"></a><a name="p36806713218"></a><a href="#zh-cn_topic_0000001075561622_request_Volume">Volume</a> object</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1680578219"><a name="p1680578219"></a><a name="p1680578219"></a>节点系统盘信息，部分虚拟机或BMS自带系统盘的情况该参数可选，其他情况该参数必选。</p>
</td>
</tr>
<tr id="row1435416112114"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p16680378215"><a name="p16680378215"></a><a name="p16680378215"></a>data_volume</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p76801792117"><a name="p76801792117"></a><a name="p76801792117"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p206801877213"><a name="p206801877213"></a><a name="p206801877213"></a><a href="#zh-cn_topic_0000001075561622_request_Volume">Volume</a> object</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p9680273215"><a name="p9680273215"></a><a name="p9680273215"></a>节点数据盘信息，当data_volume_count不为0时，该参数必选。</p>
</td>
</tr>
<tr id="row103544612214"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1668057102117"><a name="p1668057102117"></a><a name="p1668057102117"></a>data_volume_count</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1768119713214"><a name="p1768119713214"></a><a name="p1768119713214"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1068147142120"><a name="p1068147142120"></a><a name="p1068147142120"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p96815702110"><a name="p96815702110"></a><a name="p96815702110"></a>节点数据磁盘存储数目，取值范围0～10。</p>
</td>
</tr>
<tr id="row93546622118"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1868111712210"><a name="p1868111712210"></a><a name="p1868111712210"></a>charge_info</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1468114712111"><a name="p1468114712111"></a><a name="p1468114712111"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1768216772115"><a name="p1768216772115"></a><a name="p1768216772115"></a><a href="#zh-cn_topic_0000001075561622_request_ChargeInfo">ChargeInfo</a> object</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p568212732118"><a name="p568212732118"></a><a name="p568212732118"></a>节点组的计费类型，Master和Core节点组是和集群的计费类型一致，Task节点组可以和集群的计费类型不同。</p>
</td>
</tr>
<tr id="row93541569218"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p26826714215"><a name="p26826714215"></a><a name="p26826714215"></a>auto_scaling_policy</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p116821273212"><a name="p116821273212"></a><a name="p116821273212"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1568211716217"><a name="p1568211716217"></a><a name="p1568211716217"></a><a href="#zh-cn_topic_0000001075561622_request_auto_scaling_policy">auto_scaling_policy</a> object</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p8682475217"><a name="p8682475217"></a><a name="p8682475217"></a>弹性伸缩规则信息。</p>
</td>
</tr>
<tr id="row9354666219"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p568220702118"><a name="p568220702118"></a><a name="p568220702118"></a>assigned_roles</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1668216732119"><a name="p1668216732119"></a><a name="p1668216732119"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p968227132114"><a name="p968227132114"></a><a name="p968227132114"></a>Array of strings</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p868316712110"><a name="p868316712110"></a><a name="p868316712110"></a>当集群类型为CUSTOM时，该参数必选。可以指定节点组中部署的角色，该参数是一个字符串数组，每个字符串表示一个角色表达式。 角色表达式定义：</p>
<a name="ul7683137142110"></a><a name="ul7683137142110"></a><ul id="ul7683137142110"><li>当该角色在节点组所有节点部署时： {role name}，如“DataNode”。</li><li>当该角色在节点组指定下标节点部署时：{role name}:{index1},{index2}…,{indexN}，如“NameNode:1,2”，下标从1开始计数。</li><li>部分角色支持多实例部署（即在一个节点部署多个同角色的实例）：{role name}[{instance count}]，如“EsNode[9]”</li></ul>
<p id="p1068387172110"><a name="p1068387172110"></a><a name="p1068387172110"></a>可选的角色请参考<a href="MRS支持的角色与组件对应表.md">MRS支持的角色与组件对应表</a>。</p>
</td>
</tr>
</tbody>
</table>

**表 6**  Volume

<a name="zh-cn_topic_0000001075561622_request_Volume"></a>
<table><thead align="left"><tr id="row837814612113"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p46846792118"><a name="p46846792118"></a><a name="p46846792118"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p3684117172119"><a name="p3684117172119"></a><a name="p3684117172119"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p86843711214"><a name="p86843711214"></a><a name="p86843711214"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p568511720218"><a name="p568511720218"></a><a name="p568511720218"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1437813614214"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p176853772113"><a name="p176853772113"></a><a name="p176853772113"></a>type</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1168516712120"><a name="p1168516712120"></a><a name="p1168516712120"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p56853720219"><a name="p56853720219"></a><a name="p56853720219"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1168527152110"><a name="p1168527152110"></a><a name="p1168527152110"></a>磁盘类型。 磁盘类型枚举值：</p>
<a name="ul2068613772119"></a><a name="ul2068613772119"></a><ul id="ul2068613772119"><li>SATA：普通IO磁盘类型。</li><li>SAS：高IO磁盘类型。</li><li>SSD：超高IO磁盘类型。</li></ul>
</td>
</tr>
<tr id="row837826162119"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p768617752119"><a name="p768617752119"></a><a name="p768617752119"></a>size</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p206873713213"><a name="p206873713213"></a><a name="p206873713213"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p86879742116"><a name="p86879742116"></a><a name="p86879742116"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p468710762115"><a name="p468710762115"></a><a name="p468710762115"></a>数据盘大小，容量单位为GB，输入大小范围为[10,32768]。</p>
</td>
</tr>
</tbody>
</table>

**表 7**  ChargeInfo

<a name="zh-cn_topic_0000001075561622_request_ChargeInfo"></a>
<table><thead align="left"><tr id="row20385156172117"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p1688197192112"><a name="p1688197192112"></a><a name="p1688197192112"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p1868815712120"><a name="p1868815712120"></a><a name="p1868815712120"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p1968887102119"><a name="p1968887102119"></a><a name="p1968887102119"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p11688127122117"><a name="p11688127122117"></a><a name="p11688127122117"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1938656102119"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p12688979219"><a name="p12688979219"></a><a name="p12688979219"></a>charge_mode</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p4688273212"><a name="p4688273212"></a><a name="p4688273212"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p76894716217"><a name="p76894716217"></a><a name="p76894716217"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p9689137142110"><a name="p9689137142110"></a><a name="p9689137142110"></a>计费模式。 取值范围：</p>
<a name="ul5689147142110"></a><a name="ul5689147142110"></a><ul id="ul5689147142110"><li>prePaid：预付费，即包年/包月。暂不支持。</li><li>postPaid：后付费，即按需计费。</li></ul>
</td>
</tr>
</tbody>
</table>

**表 8**  auto\_scaling\_policy

<a name="zh-cn_topic_0000001075561622_request_auto_scaling_policy"></a>
<table><thead align="left"><tr id="row163934611212"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p16909710217"><a name="p16909710217"></a><a name="p16909710217"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p12690127102117"><a name="p12690127102117"></a><a name="p12690127102117"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p1269012762111"><a name="p1269012762111"></a><a name="p1269012762111"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p9690474217"><a name="p9690474217"></a><a name="p9690474217"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row143933662117"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p19690197192111"><a name="p19690197192111"></a><a name="p19690197192111"></a>auto_scaling_enable</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p769014752115"><a name="p769014752115"></a><a name="p769014752115"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p16691076218"><a name="p16691076218"></a><a name="p16691076218"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p66910719214"><a name="p66910719214"></a><a name="p66910719214"></a>当前自动伸缩规则是否开启。</p>
</td>
</tr>
<tr id="row939496172115"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1369127162112"><a name="p1369127162112"></a><a name="p1369127162112"></a>min_capacity</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p18691187162114"><a name="p18691187162114"></a><a name="p18691187162114"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p26911373217"><a name="p26911373217"></a><a name="p26911373217"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1869197122116"><a name="p1869197122116"></a><a name="p1869197122116"></a>指定该节点组的最小保留节点数。</p>
<p id="p18692117182113"><a name="p18692117182113"></a><a name="p18692117182113"></a>取值范围：[0～500]</p>
</td>
</tr>
<tr id="row193941265217"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p7692575213"><a name="p7692575213"></a><a name="p7692575213"></a>max_capacity</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p36935752115"><a name="p36935752115"></a><a name="p36935752115"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p5693176213"><a name="p5693176213"></a><a name="p5693176213"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1469307192118"><a name="p1469307192118"></a><a name="p1469307192118"></a>指定该节点组的最大节点数。</p>
<p id="p1669311762116"><a name="p1669311762116"></a><a name="p1669311762116"></a>取值范围：[0～500]</p>
</td>
</tr>
<tr id="row1539418619213"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p106931772214"><a name="p106931772214"></a><a name="p106931772214"></a>resources_plans</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p6693187112114"><a name="p6693187112114"></a><a name="p6693187112114"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p11694971217"><a name="p11694971217"></a><a name="p11694971217"></a>Array of <a href="#zh-cn_topic_0000001075561622_request_resources_plan">resources_plan</a> objects</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1469417182118"><a name="p1469417182118"></a><a name="p1469417182118"></a>资源计划列表。若该参数为空表示不启用资源计划。</p>
<p id="p969487112120"><a name="p969487112120"></a><a name="p969487112120"></a>当启用弹性伸缩时，资源计划与自动伸缩规则需至少配置其中一种。</p>
<p id="p1069414712110"><a name="p1069414712110"></a><a name="p1069414712110"></a>MRS 1.6.3及以后版本支持该参数。</p>
</td>
</tr>
<tr id="row1639412632120"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1069411732110"><a name="p1069411732110"></a><a name="p1069411732110"></a>rules</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p6695167172112"><a name="p6695167172112"></a><a name="p6695167172112"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1369516720217"><a name="p1369516720217"></a><a name="p1369516720217"></a>Array of <a href="#zh-cn_topic_0000001075561622_request_rules">rules</a> objects</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p156958732114"><a name="p156958732114"></a><a name="p156958732114"></a>自动伸缩的规则列表。</p>
<p id="p1469510719215"><a name="p1469510719215"></a><a name="p1469510719215"></a>当启用弹性伸缩时，资源计划与自动伸缩规则需至少配置其中一种。</p>
</td>
</tr>
<tr id="row1039418616219"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p16951174211"><a name="p16951174211"></a><a name="p16951174211"></a>exec_scripts</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p269577132119"><a name="p269577132119"></a><a name="p269577132119"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p126959732117"><a name="p126959732117"></a><a name="p126959732117"></a>Array of <a href="#zh-cn_topic_0000001075561622_request_scale_script">scale_script</a> objects</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p126961271217"><a name="p126961271217"></a><a name="p126961271217"></a>弹性伸缩自定义自动化脚本列表。若该参数为空表示不启用自动化脚本。</p>
<p id="p1369611792111"><a name="p1369611792111"></a><a name="p1369611792111"></a>MRS 1.7.1及以后版本支持该参数。</p>
</td>
</tr>
</tbody>
</table>

**表 9**  resources\_plan

<a name="zh-cn_topic_0000001075561622_request_resources_plan"></a>
<table><thead align="left"><tr id="row1541014652116"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p1869737132110"><a name="p1869737132110"></a><a name="p1869737132110"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p13697157102119"><a name="p13697157102119"></a><a name="p13697157102119"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p969719710213"><a name="p969719710213"></a><a name="p969719710213"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p10697177132118"><a name="p10697177132118"></a><a name="p10697177132118"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row44111067217"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p3697167132119"><a name="p3697167132119"></a><a name="p3697167132119"></a>period_type</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p26976752117"><a name="p26976752117"></a><a name="p26976752117"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p14698073218"><a name="p14698073218"></a><a name="p14698073218"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p146981472211"><a name="p146981472211"></a><a name="p146981472211"></a>资源计划的周期类型，当前只允许以下类型：</p>
<p id="p14698107112114"><a name="p14698107112114"></a><a name="p14698107112114"></a>daily</p>
</td>
</tr>
<tr id="row64118611212"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1969817719216"><a name="p1969817719216"></a><a name="p1969817719216"></a>start_time</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p16984742116"><a name="p16984742116"></a><a name="p16984742116"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p11698775210"><a name="p11698775210"></a><a name="p11698775210"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p146981878214"><a name="p146981878214"></a><a name="p146981878214"></a>资源计划的起始时间，格式为“hour:minute”，表示时间在0:00-23:59之间。</p>
</td>
</tr>
<tr id="row0411167214"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1269919714211"><a name="p1269919714211"></a><a name="p1269919714211"></a>end_time</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p0699187112112"><a name="p0699187112112"></a><a name="p0699187112112"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p16699678213"><a name="p16699678213"></a><a name="p16699678213"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p116995762117"><a name="p116995762117"></a><a name="p116995762117"></a>资源计划的结束时间，格式与“start_time”相同，不早于start_time表示的时间，且与start_time间隔不小于30min。</p>
</td>
</tr>
<tr id="row1741196112111"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p136995752116"><a name="p136995752116"></a><a name="p136995752116"></a>min_capacity</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p13699187162114"><a name="p13699187162114"></a><a name="p13699187162114"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p07003792111"><a name="p07003792111"></a><a name="p07003792111"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p27008772117"><a name="p27008772117"></a><a name="p27008772117"></a>资源计划内该节点组的最小保留节点数。</p>
<p id="p370014710219"><a name="p370014710219"></a><a name="p370014710219"></a>取值范围：[0～500]</p>
</td>
</tr>
<tr id="row19411865215"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p11700137122118"><a name="p11700137122118"></a><a name="p11700137122118"></a>max_capacity</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p670077142115"><a name="p670077142115"></a><a name="p670077142115"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p127011722116"><a name="p127011722116"></a><a name="p127011722116"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p670119718210"><a name="p670119718210"></a><a name="p670119718210"></a>资源计划内该节点组的最大保留节点数。</p>
<p id="p1770116712115"><a name="p1770116712115"></a><a name="p1770116712115"></a>取值范围：[0～500]</p>
</td>
</tr>
</tbody>
</table>

**表 10**  rules

<a name="zh-cn_topic_0000001075561622_request_rules"></a>
<table><thead align="left"><tr id="row16425126162120"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p1870210762119"><a name="p1870210762119"></a><a name="p1870210762119"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p15702179215"><a name="p15702179215"></a><a name="p15702179215"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p17029717213"><a name="p17029717213"></a><a name="p17029717213"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p57021470211"><a name="p57021470211"></a><a name="p57021470211"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row194257692115"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1702772214"><a name="p1702772214"></a><a name="p1702772214"></a>name</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1170214712111"><a name="p1170214712111"></a><a name="p1170214712111"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p127030752115"><a name="p127030752115"></a><a name="p127030752115"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1570318722117"><a name="p1570318722117"></a><a name="p1570318722117"></a>弹性伸缩规则的名称。</p>
<p id="p187031676213"><a name="p187031676213"></a><a name="p187031676213"></a>只能由字母、数字、中划线和下划线组成，并且长度为1～64个字符。</p>
<p id="p147038719212"><a name="p147038719212"></a><a name="p147038719212"></a>在一个节点组范围内，不允许重名。</p>
</td>
</tr>
<tr id="row3425206172113"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p07039782116"><a name="p07039782116"></a><a name="p07039782116"></a>description</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p470377122113"><a name="p470377122113"></a><a name="p470377122113"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1670437202119"><a name="p1670437202119"></a><a name="p1670437202119"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p07048702120"><a name="p07048702120"></a><a name="p07048702120"></a>弹性伸缩规则的说明。</p>
<p id="p1704578217"><a name="p1704578217"></a><a name="p1704578217"></a>最大长度为1024字符。</p>
</td>
</tr>
<tr id="row34257682115"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p37043713219"><a name="p37043713219"></a><a name="p37043713219"></a>adjustment_type</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p6705876214"><a name="p6705876214"></a><a name="p6705876214"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p147054714217"><a name="p147054714217"></a><a name="p147054714217"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p187051072217"><a name="p187051072217"></a><a name="p187051072217"></a>弹性伸缩规则的调整类型，只允许以下类型：</p>
<p id="p170515742117"><a name="p170515742117"></a><a name="p170515742117"></a>枚举值：</p>
<a name="ul177051675211"></a><a name="ul177051675211"></a><ul id="ul177051675211"><li><strong id="b16709078216"><a name="b16709078216"></a><a name="b16709078216"></a>scale_out：扩容</strong></li><li><strong id="b157101270219"><a name="b157101270219"></a><a name="b157101270219"></a>scale_in：缩容</strong></li></ul>
</td>
</tr>
<tr id="row7426196122116"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p97111717211"><a name="p97111717211"></a><a name="p97111717211"></a>cool_down_minutes</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p57118762119"><a name="p57118762119"></a><a name="p57118762119"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p47111073219"><a name="p47111073219"></a><a name="p47111073219"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p771112717215"><a name="p771112717215"></a><a name="p771112717215"></a>触发弹性伸缩规则后，该集群处于冷却状态（不再执行弹性伸缩操作）的时长，单位为分钟。</p>
<p id="p16711676212"><a name="p16711676212"></a><a name="p16711676212"></a>取值范围[0～10080]，10080为一周的分钟数。</p>
</td>
</tr>
<tr id="row19426146162111"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p16712197112113"><a name="p16712197112113"></a><a name="p16712197112113"></a>scaling_adjustment</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p471217772110"><a name="p471217772110"></a><a name="p471217772110"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p17123720212"><a name="p17123720212"></a><a name="p17123720212"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p19712147152110"><a name="p19712147152110"></a><a name="p19712147152110"></a>单次调整集群节点的个数。</p>
<p id="p871217715212"><a name="p871217715212"></a><a name="p871217715212"></a>取值范围[1～100]</p>
</td>
</tr>
<tr id="row84261065214"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p771317712111"><a name="p771317712111"></a><a name="p771317712111"></a>trigger</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p13713167112114"><a name="p13713167112114"></a><a name="p13713167112114"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p57137772114"><a name="p57137772114"></a><a name="p57137772114"></a><a href="#zh-cn_topic_0000001075561622_request_trigger">trigger</a> object</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p4713107162110"><a name="p4713107162110"></a><a name="p4713107162110"></a>描述该规则触发条件。</p>
</td>
</tr>
</tbody>
</table>

**表 11**  trigger

<a name="zh-cn_topic_0000001075561622_request_trigger"></a>
<table><thead align="left"><tr id="row11444166142119"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p7714576213"><a name="p7714576213"></a><a name="p7714576213"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p137146713219"><a name="p137146713219"></a><a name="p137146713219"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p1671427132118"><a name="p1671427132118"></a><a name="p1671427132118"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p1714177182110"><a name="p1714177182110"></a><a name="p1714177182110"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1044414618218"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p67140714210"><a name="p67140714210"></a><a name="p67140714210"></a>metric_name</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p571447152113"><a name="p571447152113"></a><a name="p571447152113"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p19714177122115"><a name="p19714177122115"></a><a name="p19714177122115"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p18715147152111"><a name="p18715147152111"></a><a name="p18715147152111"></a>指标名称。</p>
<p id="p137152717217"><a name="p137152717217"></a><a name="p137152717217"></a>该触发条件会依据该名称对应指标的值来进行判断。</p>
<p id="p16715874213"><a name="p16715874213"></a><a name="p16715874213"></a>最大长度为64个字符。</p>
</td>
</tr>
<tr id="row744446152112"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p187151175213"><a name="p187151175213"></a><a name="p187151175213"></a>metric_value</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1371512711215"><a name="p1371512711215"></a><a name="p1371512711215"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p771512772118"><a name="p771512772118"></a><a name="p771512772118"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p11715871211"><a name="p11715871211"></a><a name="p11715871211"></a>指标阈值。</p>
<p id="p137158762112"><a name="p137158762112"></a><a name="p137158762112"></a>触发该条件的指标阈值，只允许输入整数或者带两位小数的数。</p>
</td>
</tr>
<tr id="row114453672110"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p157164712120"><a name="p157164712120"></a><a name="p157164712120"></a>comparison_operator</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p157161762113"><a name="p157161762113"></a><a name="p157161762113"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p11716177102116"><a name="p11716177102116"></a><a name="p11716177102116"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p171610717217"><a name="p171610717217"></a><a name="p171610717217"></a>指标判断逻辑运算符，包括：</p>
<a name="ul177165772112"></a><a name="ul177165772112"></a><ul id="ul177165772112"><li>LT：小于</li><li>GT：大于</li><li>LTOE：小于等于</li><li>GTOE：大于等于</li></ul>
</td>
</tr>
<tr id="row3445156122114"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p771718716212"><a name="p771718716212"></a><a name="p771718716212"></a>evaluation_periods</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p67171722112"><a name="p67171722112"></a><a name="p67171722112"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p27171718216"><a name="p27171718216"></a><a name="p27171718216"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1871715712115"><a name="p1871715712115"></a><a name="p1871715712115"></a>判断连续满足指标阈值的周期数(一个周期为5分钟)。</p>
<p id="p9717187142118"><a name="p9717187142118"></a><a name="p9717187142118"></a>取值范围[1～288]</p>
</td>
</tr>
</tbody>
</table>

**表 12**  scale\_script

<a name="zh-cn_topic_0000001075561622_request_scale_script"></a>
<table><thead align="left"><tr id="row1645820613213"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p18718771214"><a name="p18718771214"></a><a name="p18718771214"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p14718107172110"><a name="p14718107172110"></a><a name="p14718107172110"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p107181712218"><a name="p107181712218"></a><a name="p107181712218"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p9718177112112"><a name="p9718177112112"></a><a name="p9718177112112"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row745817602114"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p371816718211"><a name="p371816718211"></a><a name="p371816718211"></a>name</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p127183715213"><a name="p127183715213"></a><a name="p127183715213"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p16718772218"><a name="p16718772218"></a><a name="p16718772218"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p157183752115"><a name="p157183752115"></a><a name="p157183752115"></a>弹性伸缩自定义自动化脚本的名称，同一个集群的自定义自动化脚本名称不允许相同。</p>
<p id="p17718977218"><a name="p17718977218"></a><a name="p17718977218"></a>只能由数字、英文字符、空格、中划线和下划线组成，且不能以空格开头。</p>
<p id="p0718472216"><a name="p0718472216"></a><a name="p0718472216"></a>可输入的字符串长度为1～64个字符。</p>
</td>
</tr>
<tr id="row1145919617211"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1271915732118"><a name="p1271915732118"></a><a name="p1271915732118"></a>uri</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1171907112118"><a name="p1171907112118"></a><a name="p1171907112118"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p12719679212"><a name="p12719679212"></a><a name="p12719679212"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p13719137172112"><a name="p13719137172112"></a><a name="p13719137172112"></a>自定义自动化脚本的路径。设置为OBS桶的路径或虚拟机本地的路径。</p>
<a name="ul4719157172110"></a><a name="ul4719157172110"></a><ul id="ul4719157172110"><li>OBS桶的路径：直接手动输入脚本路径。示例：obs://XXX/scale.sh</li><li>虚拟机本地的路径：用户需要输入正确的脚本路径。脚本所在的路径必须以‘/’开头，以.sh结尾。</li></ul>
</td>
</tr>
<tr id="row154593610218"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1572097182113"><a name="p1572097182113"></a><a name="p1572097182113"></a>parameters</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p107201762111"><a name="p107201762111"></a><a name="p107201762111"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p872097122117"><a name="p872097122117"></a><a name="p872097122117"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p18720207162116"><a name="p18720207162116"></a><a name="p18720207162116"></a>自定义自动化脚本参数。</p>
<p id="p207200732118"><a name="p207200732118"></a><a name="p207200732118"></a>多个参数间用空格隔开。 可以传入以下系统预定义参数：</p>
<a name="ul172014718211"></a><a name="ul172014718211"></a><ul id="ul172014718211"><li>${mrs_scale_node_num}：扩缩容节点数</li><li>${mrs_scale_type}：扩缩容类型，扩容为scale_out，缩容为scale_in</li><li>${mrs_scale_node_hostnames}：扩缩容的节点主机名称</li><li>${mrs_scale_node_ips}：扩缩容的节点IP</li><li>${mrs_scale_rule_name}：触发扩缩容的规则名</li></ul>
<p id="p19721157192114"><a name="p19721157192114"></a><a name="p19721157192114"></a>其他用户自定义参数使用方式与普通shell脚本相同，多个参数中间用空格隔开。</p>
</td>
</tr>
<tr id="row184591269210"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p172147152118"><a name="p172147152118"></a><a name="p172147152118"></a>nodes</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p10721972219"><a name="p10721972219"></a><a name="p10721972219"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p127211275213"><a name="p127211275213"></a><a name="p127211275213"></a>Array of strings</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p107214742118"><a name="p107214742118"></a><a name="p107214742118"></a>自定义自动化脚本所执行的节点类型，包含Master、Core和Task三种类型。</p>
</td>
</tr>
<tr id="row94591964213"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1872218772115"><a name="p1872218772115"></a><a name="p1872218772115"></a>active_master</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p137223702118"><a name="p137223702118"></a><a name="p137223702118"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p27221752112"><a name="p27221752112"></a><a name="p27221752112"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p172211752110"><a name="p172211752110"></a><a name="p172211752110"></a>自定义自动化脚本是否只运行在主Master节点上。</p>
<p id="p77225714215"><a name="p77225714215"></a><a name="p77225714215"></a>缺省值为false，表示自定义自动化脚本可运行在所有Master节点上。</p>
</td>
</tr>
<tr id="row134599610212"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p187221977215"><a name="p187221977215"></a><a name="p187221977215"></a>fail_action</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1072217712217"><a name="p1072217712217"></a><a name="p1072217712217"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p117222715214"><a name="p117222715214"></a><a name="p117222715214"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1272267112113"><a name="p1272267112113"></a><a name="p1272267112113"></a>自自定义自动化脚本执行失败后，是否继续执行后续脚本和创建集群。</p>
<p id="p6722157152114"><a name="p6722157152114"></a><a name="p6722157152114"></a>说明：</p>
<a name="ul87223718212"></a><a name="ul87223718212"></a><ul id="ul87223718212"><li>建议您在调试阶段设置为“continue”，无论此自定义自动化脚本是否执行成功，则集群都能继续安装和启动。</li><li>由于缩容成功无法回滚，因此缩容后执行的脚本“fail_action”必须设置为“continue”。</li></ul>
<p id="p2072311712213"><a name="p2072311712213"></a><a name="p2072311712213"></a>枚举值：</p>
<a name="ul18723117202113"></a><a name="ul18723117202113"></a><ul id="ul18723117202113"><li><strong id="b272312702113"><a name="b272312702113"></a><a name="b272312702113"></a>continue：继续执行后续脚本。</strong></li><li><strong id="b117231771210"><a name="b117231771210"></a><a name="b117231771210"></a>errorout：终止操作。</strong></li></ul>
</td>
</tr>
<tr id="row164596613212"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p2072315702117"><a name="p2072315702117"></a><a name="p2072315702117"></a>action_stage</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p472319712213"><a name="p472319712213"></a><a name="p472319712213"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p47238772110"><a name="p47238772110"></a><a name="p47238772110"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p4723157152112"><a name="p4723157152112"></a><a name="p4723157152112"></a>脚本执行时机。</p>
<p id="p197245710219"><a name="p197245710219"></a><a name="p197245710219"></a>枚举值：</p>
<a name="ul3724107172110"></a><a name="ul3724107172110"></a><ul id="ul3724107172110"><li><strong id="b1472411718211"><a name="b1472411718211"></a><a name="b1472411718211"></a>before_scale_out：扩容前</strong></li><li><strong id="b77245719216"><a name="b77245719216"></a><a name="b77245719216"></a>before_scale_in：缩容前</strong></li><li><strong id="b87241576214"><a name="b87241576214"></a><a name="b87241576214"></a>after_scale_out：扩容后</strong></li><li><strong id="b07241672216"><a name="b07241672216"></a><a name="b07241672216"></a>after_scale_in：缩容后</strong></li></ul>
</td>
</tr>
</tbody>
</table>

**表 13**  bootstrap\_script

<a name="zh-cn_topic_0000001075561622_request_bootstrap_script"></a>
<table><thead align="left"><tr id="row164780622111"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p197257711219"><a name="p197257711219"></a><a name="p197257711219"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p17254714218"><a name="p17254714218"></a><a name="p17254714218"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p17258715214"><a name="p17258715214"></a><a name="p17258715214"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p572518711213"><a name="p572518711213"></a><a name="p572518711213"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row94786622113"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1772510713219"><a name="p1772510713219"></a><a name="p1772510713219"></a>name</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p2725278219"><a name="p2725278219"></a><a name="p2725278219"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p2072520782111"><a name="p2072520782111"></a><a name="p2072520782111"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1572617717219"><a name="p1572617717219"></a><a name="p1572617717219"></a>引导操作脚本的名称，同一个集群的引导操作脚本名称不允许相同。</p>
<p id="p772617762110"><a name="p772617762110"></a><a name="p772617762110"></a>只能由数字、英文字符、空格、中划线和下划线组成，且不能以空格开头。</p>
<p id="p1572657162116"><a name="p1572657162116"></a><a name="p1572657162116"></a>可输入的字符串长度为1～64个字符。</p>
</td>
</tr>
<tr id="row114795652112"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p127261762119"><a name="p127261762119"></a><a name="p127261762119"></a>uri</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1372607142119"><a name="p1372607142119"></a><a name="p1372607142119"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p0728174212"><a name="p0728174212"></a><a name="p0728174212"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p57284792118"><a name="p57284792118"></a><a name="p57284792118"></a>引导操作脚本的路径。设置为OBS桶的路径或虚拟机本地的路径。</p>
<a name="ul872817719211"></a><a name="ul872817719211"></a><ul id="ul872817719211"><li>OBS桶的路径：直接手动输入脚本路径。例如输入MRS提供的公共样例脚本路径。示例：obs://bootstrap/presto/presto-install.sh，其中安装dualroles时，presto-install.sh脚本参数为dualroles, 安装worker时，presto-install.sh脚本参数为worker。根据Presto使用习惯，建议您在Active Master节点上安装dualroles，在Core节点上安装worker。</li><li>虚拟机本地的路径：用户需要输入正确的脚本路径。脚本所在的路径必须以‘/’开头，以.sh结尾。</li></ul>
</td>
</tr>
<tr id="row18479166112110"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1272813762114"><a name="p1272813762114"></a><a name="p1272813762114"></a>parameters</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p472916742113"><a name="p472916742113"></a><a name="p472916742113"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p7729977216"><a name="p7729977216"></a><a name="p7729977216"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p372957182120"><a name="p372957182120"></a><a name="p372957182120"></a>引导操作脚本参数。</p>
</td>
</tr>
<tr id="row1447919652117"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p772916762115"><a name="p772916762115"></a><a name="p772916762115"></a>nodes</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p137292712212"><a name="p137292712212"></a><a name="p137292712212"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p572913752116"><a name="p572913752116"></a><a name="p572913752116"></a>Array of strings</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p17292710210"><a name="p17292710210"></a><a name="p17292710210"></a>引导操作脚本所执行的节点类型，包含Master、Core和Task三种类型。</p>
</td>
</tr>
<tr id="row04791165214"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p37299712215"><a name="p37299712215"></a><a name="p37299712215"></a>active_master</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p17301071215"><a name="p17301071215"></a><a name="p17301071215"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p1973015792119"><a name="p1973015792119"></a><a name="p1973015792119"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p97302712119"><a name="p97302712119"></a><a name="p97302712119"></a>引导操作脚本是否只运行在主Master节点上。 缺省值为false，表示引导操作脚本可运行在所有Master节点上。</p>
</td>
</tr>
<tr id="row9943131812257"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1283216158017"><a name="p1283216158017"></a><a name="p1283216158017"></a><span id="ph1470919181915"><a name="ph1470919181915"></a><a name="ph1470919181915"></a>action_stages</span></p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p683215155011"><a name="p683215155011"></a><a name="p683215155011"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p18321115804"><a name="p18321115804"></a><a name="p18321115804"></a><span id="ph188816361813"><a name="ph188816361813"></a><a name="ph188816361813"></a>Array of strings</span></p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p10296411225"><a name="p10296411225"></a><a name="p10296411225"></a><span id="ph11254578212"><a name="ph11254578212"></a><a name="ph11254578212"></a>选择引导操作脚本执行的时间。</span></p>
<a name="ul1372231626"></a><a name="ul1372231626"></a><ul id="ul1372231626"><li>BEFORE_COMPONENT_FIRST_START：<span id="ph22181601331"><a name="ph22181601331"></a><a name="ph22181601331"></a>组件首次启动</span>后</li><li>AFTER_COMPONENT_FIRST_START：<span id="ph18219403339"><a name="ph18219403339"></a><a name="ph18219403339"></a>组件首次启动</span>前</li><li>BEFORE_SCALE_IN：缩容前</li><li>AFTER_SCALE_IN：缩容后</li><li>BEFORE_SCALE_OUT：扩容前</li><li>AFTER_SCALE_OUT：扩容后</li></ul>
</td>
</tr>
<tr id="row14791268218"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p973018713211"><a name="p973018713211"></a><a name="p973018713211"></a>fail_action</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p47301472217"><a name="p47301472217"></a><a name="p47301472217"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p47306710218"><a name="p47306710218"></a><a name="p47306710218"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p157301679215"><a name="p157301679215"></a><a name="p157301679215"></a>引导操作脚本执行失败后，是否继续执行后续脚本和创建集群。</p>
<p id="p1673114782113"><a name="p1673114782113"></a><a name="p1673114782113"></a>缺省值为errorout,表示终止操作。</p>
<p id="p6731877218"><a name="p6731877218"></a><a name="p6731877218"></a>说明： 建议您在调试阶段设置为“继续”，无论此引导操作是否执行成功，则集群都能继续安装和启动。</p>
<p id="p7732127162114"><a name="p7732127162114"></a><a name="p7732127162114"></a>枚举值：</p>
<a name="ul1273212715219"></a><a name="ul1273212715219"></a><ul id="ul1273212715219"><li><strong id="b873217710211"><a name="b873217710211"></a><a name="b873217710211"></a>continue：继续执行后续脚本。</strong></li><li><strong id="b9732147172118"><a name="b9732147172118"></a><a name="b9732147172118"></a>errorout：终止操作。</strong></li></ul>
</td>
</tr>
<tr id="row13479766214"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p873257182116"><a name="p873257182116"></a><a name="p873257182116"></a>before_component_start</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1973211711212"><a name="p1973211711212"></a><a name="p1973211711212"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p773310717218"><a name="p773310717218"></a><a name="p773310717218"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p273397152111"><a name="p273397152111"></a><a name="p273397152111"></a>引导操作脚本执行的时间。目前支持“组件启动前”和“组件启动后”两种类型。 缺省值为false，表示引导操作脚本在组件启动后执行。</p>
</td>
</tr>
</tbody>
</table>

**表 14**  add\_jobs

<a name="zh-cn_topic_0000001075561622_request_add_jobs"></a>
<table><thead align="left"><tr id="row24976618216"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.1"><p id="p117340711215"><a name="p117340711215"></a><a name="p117340711215"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.2"><p id="p1673412792113"><a name="p1673412792113"></a><a name="p1673412792113"></a>是否必选</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.5.1.3"><p id="p973415752110"><a name="p973415752110"></a><a name="p973415752110"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="40%" id="mcps1.2.5.1.4"><p id="p973413742114"><a name="p973413742114"></a><a name="p973413742114"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row1649713615212"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1173415711212"><a name="p1173415711212"></a><a name="p1173415711212"></a>job_type</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1173415722117"><a name="p1173415722117"></a><a name="p1173415722117"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p13734157152119"><a name="p13734157152119"></a><a name="p13734157152119"></a>Integer</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1473416782119"><a name="p1473416782119"></a><a name="p1473416782119"></a>作业类型码。</p>
<a name="ul073413782116"></a><a name="ul073413782116"></a><ul id="ul073413782116"><li>1：MapReduce</li><li>2：Spark</li><li>3：Hive Script</li><li>4：HiveSQL（当前不支持）</li><li>5：DistCp，导入、导出数据，（当前不支持）。</li><li>6：Spark Script</li><li>7：Spark SQL，提交SQL语句，（当前不支持）。</li></ul>
</td>
</tr>
<tr id="row94979611215"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p373612718215"><a name="p373612718215"></a><a name="p373612718215"></a>job_name</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p573617732115"><a name="p573617732115"></a><a name="p573617732115"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p15736117192114"><a name="p15736117192114"></a><a name="p15736117192114"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p207361178219"><a name="p207361178219"></a><a name="p207361178219"></a>作业名称。 只能由字母、数字、中划线和下划线组成，并且长度为1～64个字符。</p>
<p id="p17364772117"><a name="p17364772117"></a><a name="p17364772117"></a>说明： 不同作业的名称允许相同，但不建议设置相同。</p>
</td>
</tr>
<tr id="row1449786202113"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p27361478217"><a name="p27361478217"></a><a name="p27361478217"></a>jar_path</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p1273727132115"><a name="p1273727132115"></a><a name="p1273727132115"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p20737875217"><a name="p20737875217"></a><a name="p20737875217"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p67379719214"><a name="p67379719214"></a><a name="p67379719214"></a>执行程序Jar包或sql文件地址，需要满足如下要求：</p>
<a name="ul673777192110"></a><a name="ul673777192110"></a><ul id="ul673777192110"><li>最多为1023字符，不能包含;|&amp;&gt;,&lt;'$特殊字符，且不可为空或全空格。</li><li>文件可存储于HDFS或者OBS中，不同的文件系统对应的路径存在差异。<a name="ul147383792111"></a><a name="ul147383792111"></a><ul id="ul147383792111"><li>OBS：以“obs://”开头。不支持KMS加密的文件或程序。</li><li>HDFS：以“/”开头。</li></ul>
</li><li>Spark Script需要以“.sql”结尾，MapReduce和Spark Jar需要以“.jar”结尾，sql和jar不区分大小写。</li></ul>
</td>
</tr>
<tr id="row184977613213"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1473927202116"><a name="p1473927202116"></a><a name="p1473927202116"></a>arguments</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p187398715217"><a name="p187398715217"></a><a name="p187398715217"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p197391071214"><a name="p197391071214"></a><a name="p197391071214"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p137392722113"><a name="p137392722113"></a><a name="p137392722113"></a>程序执行的关键参数，该参数由用户程序内的函数指定，MRS只负责参数的传入。 最多为2047字符，不能包含;|&amp;&gt;'&lt;$特殊字符，可为空。</p>
</td>
</tr>
<tr id="row649712622110"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p87407714211"><a name="p87407714211"></a><a name="p87407714211"></a>input</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p27404713217"><a name="p27404713217"></a><a name="p27404713217"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p157408792118"><a name="p157408792118"></a><a name="p157408792118"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p13740273217"><a name="p13740273217"></a><a name="p13740273217"></a>数据输入地址。 文件可存储于HDFS或者OBS中，不同的文件系统对应的路径存在差异。</p>
<a name="ul374047192118"></a><a name="ul374047192118"></a><ul id="ul374047192118"><li>OBS：以“obs://”开头。不支持KMS加密的文件或程序。</li><li>HDFS：以“/”开头。</li></ul>
<p id="p1674010717218"><a name="p1674010717218"></a><a name="p1674010717218"></a>最多为1023字符，不能包含;|&amp;&gt;'&lt;$特殊字符，可为空。</p>
</td>
</tr>
<tr id="row17497064212"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p157411792116"><a name="p157411792116"></a><a name="p157411792116"></a>output</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p574120792113"><a name="p574120792113"></a><a name="p574120792113"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p174114711214"><a name="p174114711214"></a><a name="p174114711214"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1974113792117"><a name="p1974113792117"></a><a name="p1974113792117"></a>数据输出地址。 文件可存储于HDFS或者OBS中，不同的文件系统对应的路径存在差异。</p>
<a name="ul1074114719212"></a><a name="ul1074114719212"></a><ul id="ul1074114719212"><li>OBS：以“obs://”开头。</li><li>HDFS：以“/”开头。</li></ul>
<p id="p13742147142116"><a name="p13742147142116"></a><a name="p13742147142116"></a>如果该路径不存在，系统会自动创建。 最多为1023字符，不能包含;|&amp;&gt;'&lt;$特殊字符，可为空。</p>
</td>
</tr>
<tr id="row449711672111"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p12742167202116"><a name="p12742167202116"></a><a name="p12742167202116"></a>job_log</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p10742174211"><a name="p10742174211"></a><a name="p10742174211"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p187423742113"><a name="p187423742113"></a><a name="p187423742113"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p10742873215"><a name="p10742873215"></a><a name="p10742873215"></a>作业日志存储地址，该日志信息记录作业运行状态。 文件可存储于HDFS或者OBS中，不同的文件系统对应的路径存在差异。</p>
<a name="ul1974213782114"></a><a name="ul1974213782114"></a><ul id="ul1974213782114"><li>OBS：以“obs://”开头。</li><li>HDFS：以“/”开头。</li></ul>
<p id="p13743197192118"><a name="p13743197192118"></a><a name="p13743197192118"></a>最多为1023字符，不能包含;|&amp;&gt;'&lt;$特殊字符，可为空。</p>
</td>
</tr>
<tr id="row184975614215"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1174314719212"><a name="p1174314719212"></a><a name="p1174314719212"></a>hive_script_path</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p16743147102111"><a name="p16743147102111"></a><a name="p16743147102111"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p7743117102119"><a name="p7743117102119"></a><a name="p7743117102119"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p157435718217"><a name="p157435718217"></a><a name="p157435718217"></a>sql程序路径，仅Spark Script和Hive Script作业需要使用此参数。需要满足如下要求：</p>
<a name="ul16743175210"></a><a name="ul16743175210"></a><ul id="ul16743175210"><li>最多为1023字符，不能包含;|&amp;&gt;&lt;'$特殊字符，且不可为空或全空格。</li><li>文件可存储于HDFS或者OBS中，不同的文件系统对应的路径存在差异。<a name="ul1744575212"></a><a name="ul1744575212"></a><ul id="ul1744575212"><li>OBS：以“obs://”开头。不支持KMS加密的文件或程序。</li><li>HDFS：以“/”开头。</li></ul>
</li><li>需要以“.sql”结尾，sql不区分大小写。</li></ul>
</td>
</tr>
<tr id="row17498196172116"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p167441676215"><a name="p167441676215"></a><a name="p167441676215"></a>hql</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p13744472214"><a name="p13744472214"></a><a name="p13744472214"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p107453714218"><a name="p107453714218"></a><a name="p107453714218"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p197452772113"><a name="p197452772113"></a><a name="p197452772113"></a>HQL脚本语句。</p>
</td>
</tr>
<tr id="row1749846152112"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1774512713215"><a name="p1774512713215"></a><a name="p1774512713215"></a>shutdown_cluster</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p137452722111"><a name="p137452722111"></a><a name="p137452722111"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p5745478214"><a name="p5745478214"></a><a name="p5745478214"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1574587102113"><a name="p1574587102113"></a><a name="p1574587102113"></a>作业执行完成后，是否删除集群。</p>
<a name="ul47453772111"></a><a name="ul47453772111"></a><ul id="ul47453772111"><li>true：是</li><li>false：否</li></ul>
</td>
</tr>
<tr id="row749810611218"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p674615716218"><a name="p674615716218"></a><a name="p674615716218"></a>submit_job_once_cluster_run</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p57461871213"><a name="p57461871213"></a><a name="p57461871213"></a>是</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p474613782114"><a name="p474613782114"></a><a name="p474613782114"></a>Boolean</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><a name="ul1874613722118"></a><a name="ul1874613722118"></a><ul id="ul1874613722118"><li>true：创建集群同时提交作业</li><li>false：单独提交作业</li></ul>
<p id="p77461877211"><a name="p77461877211"></a><a name="p77461877211"></a>此处应设置为true。</p>
</td>
</tr>
<tr id="row84985619211"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.1 "><p id="p1074617715214"><a name="p1074617715214"></a><a name="p1074617715214"></a>file_action</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.2 "><p id="p2074617716213"><a name="p2074617716213"></a><a name="p2074617716213"></a>否</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.5.1.3 "><p id="p19746197152116"><a name="p19746197152116"></a><a name="p19746197152116"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="40%" headers="mcps1.2.5.1.4 "><p id="p1374710714216"><a name="p1374710714216"></a><a name="p1374710714216"></a>数据导入导出。</p>
<a name="ul187471679212"></a><a name="ul187471679212"></a><ul id="ul187471679212"><li>import</li><li>export</li></ul>
</td>
</tr>
</tbody>
</table>

## 响应参数<a name="section1874720762120"></a>

**状态码： 200**

**表 15**  响应Body参数

<a name="zh-cn_topic_0000001075561622_responseParameter"></a>
<table><thead align="left"><tr id="row155333652110"><th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.1"><p id="p974897142116"><a name="p974897142116"></a><a name="p974897142116"></a>参数</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.4.1.2"><p id="p274813712118"><a name="p274813712118"></a><a name="p274813712118"></a>参数类型</p>
</th>
<th class="cellrowborder" valign="top" width="60%" id="mcps1.2.4.1.3"><p id="p674807102118"><a name="p674807102118"></a><a name="p674807102118"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row175331062214"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.1 "><p id="p177482072212"><a name="p177482072212"></a><a name="p177482072212"></a>type</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.4.1.2 "><p id="p1574816713215"><a name="p1574816713215"></a><a name="p1574816713215"></a>String</p>
</td>
<td class="cellrowborder" valign="top" width="60%" headers="mcps1.2.4.1.3 "><p id="p207488712120"><a name="p207488712120"></a><a name="p207488712120"></a>集群创建成功后系统返回的集群ID值。</p>
</td>
</tr>
</tbody>
</table>

## 请求示例<a name="section774815710211"></a>

-   创建分析集群

    ```
    POST /v2/{project_id}/clusters
    
    {
      "cluster_version" : "MRS 3.0.5",
      "cluster_name" : "mrs_DyJA_dm",
      "cluster_type" : "ANALYSIS",
      "charge_info" : {
        "charge_mode" : "postPaid"
      },
      "region" : "",
      "availability_zone" : "",
      "vpc_name" : "vpc-37cd",
      "subnet_id" : "1f8c5ca6-1f66-4096-bb00-baf175954f6e",
      "components" : "Hadoop,Spark2x,HBase,Hive,Hue,Loader,Flink,Oozie,Ranger,Tez",
      "safe_mode" : "KERBEROS",
      "manager_admin_password" : "Mrs@1234",
      "login_mode" : "PASSWORD",
      "node_root_password" : "Mrs@1234",
      "log_collection" : 1,
      "mrs_ecs_default_agency" : "MRS_ECS_DEFAULT_AGENCY",
      "tags" : [ {
        "key" : "tag1",
        "value" : "111"
      }, {
        "key" : "tag2",
        "value" : "222"
      } ],
      "node_groups" : [ {
        "group_name" : "master_node_default_group",
        "node_num" : 2,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 600
        },
        "data_volume_count" : 1
      }, {
        "group_name" : "core_node_analysis_group",
        "node_num" : 3,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 600
        },
        "data_volume_count" : 1
      }, {
        "group_name" : "task_node_analysis_group",
        "node_num" : 3,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 600
        },
        "data_volume_count" : 1,
        "auto_scaling_policy" : {
          "auto_scaling_enable" : true,
          "min_capacity" : 0,
          "max_capacity" : 1,
          "resources_plans" : [ ],
          "exec_scripts" : [ ],
          "rules" : [ {
            "name" : "default-expand-1",
            "description" : "",
            "adjustment_type" : "scale_out",
            "cool_down_minutes" : 5,
            "scaling_adjustment" : "1",
            "trigger" : {
              "metric_id" : 2003,
              "metric_name" : "StormSlotAvailablePercentage",
              "metric_value" : 100,
              "comparison_operator_id" : 2003,
              "comparison_operator" : "LTOE",
              "evaluation_periods" : "1"
            }
          } ]
        }
      } ]
    }
    ```

-   创建流式集群

    ```
    POST /v2/{project_id}/clusters
    
    {
      "cluster_version" : "MRS 3.0.2",
      "cluster_name" : "mrs_Dokle_dm",
      "cluster_type" : "STREAMING",
      "charge_info" : {
        "charge_mode" : "postPaid"
      },
      "region" : "",
      "availability_zone" : "",
      "vpc_name" : "vpc-37cd",
      "subnet_id" : "1f8c5ca6-1f66-4096-bb00-baf175954f6e",
      "components" : "Storm,Kafka,Flume,Ranger",
      "safe_mode" : "KERBEROS",
      "manager_admin_password" : "Mrs@1234",
      "login_mode" : "PASSWORD",
      "node_root_password" : "Mrs@1234",
      "log_collection" : 1,
      "mrs_ecs_default_agency" : "MRS_ECS_DEFAULT_AGENCY",
      "tags" : [ {
        "key" : "tag1",
        "value" : "111"
      }, {
        "key" : "tag2",
        "value" : "222"
      } ],
      "node_groups" : [ {
        "group_name" : "master_node_default_group",
        "node_num" : 2,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1
      }, {
        "group_name" : "core_node_streaming_group",
        "node_num" : 3,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1
      }, {
        "group_name" : "task_node_streaming_group",
        "node_num" : 0,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1,
        "auto_scaling_policy" : {
          "auto_scaling_enable" : true,
          "min_capacity" : 0,
          "max_capacity" : 1,
          "resources_plans" : [ ],
          "exec_scripts" : [ ],
          "rules" : [ {
            "name" : "default-expand-1",
            "description" : "",
            "adjustment_type" : "scale_out",
            "cool_down_minutes" : 5,
            "scaling_adjustment" : "1",
            "trigger" : {
              "metric_id" : 2003,
              "metric_name" : "StormSlotAvailablePercentage",
              "metric_value" : 100,
              "comparison_operator_id" : 2003,
              "comparison_operator" : "LTOE",
              "evaluation_periods" : "1"
            }
          } ]
        }
      } ]
    }
    ```

-   创建混合集群

    ```
    POST /v2/{project_id}/clusters
    
    {
      "cluster_version" : "MRS 3.0.2",
      "cluster_name" : "mrs_onmm_dm",
      "cluster_type" : "MIXED",
      "charge_info" : {
        "charge_mode" : "postPaid"
      },
      "region" : "",
      "availability_zone" : "",
      "vpc_name" : "vpc-37cd",
      "subnet_id" : "1f8c5ca6-1f66-4096-bb00-baf175954f6e",
      "components" : "Hadoop,Spark2x,HBase,Hive,Hue,Loader,Kafka,Storm,Flume,Flink,Oozie,Ranger,Tez",
      "safe_mode" : "KERBEROS",
      "manager_admin_password" : "Mrs@1234",
      "login_mode" : "PASSWORD",
      "node_root_password" : "Mrs@1234",
      "log_collection" : 1,
      "mrs_ecs_default_agency" : "MRS_ECS_DEFAULT_AGENCY",
      "tags" : [ {
        "key" : "tag1",
        "value" : "111"
      }, {
        "key" : "tag2",
        "value" : "222"
      } ],
      "node_groups" : [ {
        "group_name" : "master_node_default_group",
        "node_num" : 2,
        "node_size" : "Sit3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1
      }, {
        "group_name" : "core_node_streaming_group",
        "node_num" : 3,
        "node_size" : "Sit3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1
      }, {
        "group_name" : "core_node_analysis_group",
        "node_num" : 3,
        "node_size" : "Sit3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1
      }, {
        "group_name" : "task_node_analysis_group",
        "node_num" : 1,
        "node_size" : "Sit3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1
      }, {
        "group_name" : "task_node_streaming_group",
        "node_num" : 0,
        "node_size" : "Sit3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1
      } ]
    }
    ```

-   创建自定义管控合设集群

    ```
    POST /v2/{project_id}/clusters
    
    {
      "cluster_version" : "MRS 3.0.2",
      "cluster_name" : "mrs_heshe_dm",
      "cluster_type" : "CUSTOM",
      "charge_info" : {
        "charge_mode" : "postPaid"
      },
      "region" : "",
      "availability_zone" : "",
      "vpc_name" : "vpc-37cd",
      "subnet_id" : "1f8c5ca6-1f66-4096-bb00-baf175954f6e",
      "components" : "Hadoop,Spark2x,HBase,Hive,Hue,Loader,Kafka,Storm,Flume,Flink,Oozie,Ranger,Tez",
      "safe_mode" : "KERBEROS",
      "manager_admin_password" : "Mrs@1234",
      "login_mode" : "PASSWORD",
      "node_root_password" : "Mrs@1234",
      "mrs_ecs_default_agency" : "MRS_ECS_DEFAULT_AGENCY",
      "template_id" : "mgmt_control_combined_v2",
      "log_collection" : 1,
      "tags" : [ {
        "key" : "tag1",
        "value" : "111"
      }, {
        "key" : "tag2",
        "value" : "222"
      } ],
      "node_groups" : [ {
        "group_name" : "master_node_default_group",
        "node_num" : 3,
        "node_size" : "Sit3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1,
        "assigned_roles" : [ "OMSServer:1,2", "SlapdServer:1,2", "KerberosServer:1,2", "KerberosAdmin:1,2", "quorumpeer:1,2,3", "NameNode:2,3", "Zkfc:2,3", "JournalNode:1,2,3", "ResourceManager:2,3", "JobHistoryServer:2,3", "DBServer:1,3", "Hue:1,3", "LoaderServer:1,3", "MetaStore:1,2,3", "WebHCat:1,2,3", "HiveServer:1,2,3", "HMaster:2,3", "MonitorServer:1,2", "Nimbus:1,2", "UI:1,2", "JDBCServer2x:1,2,3", "JobHistory2x:2,3", "SparkResource2x:1,2,3", "oozie:2,3", "LoadBalancer:2,3", "TezUI:1,3", "TimelineServer:3", "RangerAdmin:1,2", "UserSync:2", "TagSync:2", "KerberosClient", "SlapdClient", "meta", "HSConsole:2,3", "FlinkResource:1,2,3", "DataNode:1,2,3", "NodeManager:1,2,3", "IndexServer2x:1,2", "ThriftServer:1,2,3", "RegionServer:1,2,3", "ThriftServer1:1,2,3", "RESTServer:1,2,3", "Broker:1,2,3", "Supervisor:1,2,3", "Logviewer:1,2,3", "Flume:1,2,3", "HSBroker:1,2,3" ]
      }, {
        "group_name" : "node_group_1",
        "node_num" : 3,
        "node_size" : "Sit3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1,
        "assigned_roles" : [ "DataNode", "NodeManager", "RegionServer", "Flume:1", "Broker", "Supervisor", "Logviewer", "HBaseIndexer", "KerberosClient", "SlapdClient", "meta", "HSBroker:1,2", "ThriftServer", "ThriftServer1", "RESTServer", "FlinkResource" ]
      }, {
        "group_name" : "node_group_2",
        "node_num" : 1,
        "node_size" : "Sit3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1,
        "assigned_roles" : [ "NodeManager", "KerberosClient", "SlapdClient", "meta", "FlinkResource" ]
      } ]
    }
    ```

-   创建自定义管控分设集群

    ```
    POST /v2/{project_id}/clusters
    
    {
      "cluster_version" : "MRS 3.0.2",
      "cluster_name" : "mrs_jdRU_dm01",
      "cluster_type" : "CUSTOM",
      "charge_info" : {
        "charge_mode" : "postPaid"
      },
      "region" : "",
      "availability_zone" : "",
      "vpc_name" : "vpc-37cd",
      "subnet_id" : "1f8c5ca6-1f66-4096-bb00-baf175954f6e",
      "components" : "Hadoop,Spark2x,HBase,Hive,Hue,Loader,Kafka,Storm,Flume,Flink,Oozie,Ranger,Tez",
      "safe_mode" : "KERBEROS",
      "manager_admin_password" : "Mrs@1234",
      "login_mode" : "PASSWORD",
      "node_root_password" : "Mrs@1234",
      "mrs_ecs_default_agency" : "MRS_ECS_DEFAULT_AGENCY",
      "log_collection" : 1,
      "template_id" : "mgmt_control_separated_v2",
      "tags" : [ {
        "key" : "aaa",
        "value" : "111"
      }, {
        "key" : "bbb",
        "value" : "222"
      } ],
      "node_groups" : [ {
        "group_name" : "master_node_default_group",
        "node_num" : 5,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1,
        "assigned_roles" : [ "OMSServer:1,2", "SlapdServer:3,4", "KerberosServer:3,4", "KerberosAdmin:3,4", "quorumpeer:3,4,5", "NameNode:4,5", "Zkfc:4,5", "JournalNode:1,2,3,4,5", "ResourceManager:4,5", "JobHistoryServer:4,5", "DBServer:3,5", "Hue:1,2", "LoaderServer:1,2", "MetaStore:1,2,3,4,5", "WebHCat:1,2,3,4,5", "HiveServer:1,2,3,4,5", "HMaster:4,5", "MonitorServer:1,2", "Nimbus:1,2", "UI:1,2", "JDBCServer2x:1,2,3,4,5", "JobHistory2x:4,5", "SparkResource2x:1,2,3,4,5", "oozie:1,2", "LoadBalancer:1,2", "TezUI:1,2", "TimelineServer:5", "RangerAdmin:1,2", "KerberosClient", "SlapdClient", "meta", "HSConsole:1,2", "FlinkResource:1,2,3,4,5", "DataNode:1,2,3,4,5", "NodeManager:1,2,3,4,5", "IndexServer2x:1,2", "ThriftServer:1,2,3,4,5", "RegionServer:1,2,3,4,5", "ThriftServer1:1,2,3,4,5", "RESTServer:1,2,3,4,5", "Broker:1,2,3,4,5", "Supervisor:1,2,3,4,5", "Logviewer:1,2,3,4,5", "Flume:1,2,3,4,5", "HBaseIndexer:1,2,3,4,5", "TagSync:1", "UserSync:1" ]
      }, {
        "group_name" : "node_group_1",
        "node_num" : 3,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 300
        },
        "data_volume_count" : 1,
        "assigned_roles" : [ "DataNode", "NodeManager", "RegionServer", "Flume:1", "Broker", "Supervisor", "Logviewer", "HBaseIndexer", "KerberosClient", "SlapdClient", "meta", "HSBroker:1,2", "ThriftServer", "ThriftServer1", "RESTServer", "FlinkResource" ]
      } ]
    }
    ```

-   创建自定义数据分设集群

    ```
    POST /v2/{project_id}/clusters
    
    {
      "cluster_version" : "MRS 3.0.2",
      "cluster_name" : "mrs_jdRU_dm02",
      "cluster_type" : "CUSTOM",
      "charge_info" : {
        "charge_mode" : "postPaid"
      },
      "region" : "",
      "availability_zone" : "",
      "vpc_name" : "vpc-37cd",
      "subnet_id" : "1f8c5ca6-1f66-4096-bb00-baf175954f6e",
      "components" : "Hadoop,Spark2x,HBase,Hive,Hue,Loader,Kafka,Storm,Flume,Flink,Oozie,Ranger,Tez",
      "safe_mode" : "KERBEROS",
      "manager_admin_password" : "Mrs@1234",
      "login_mode" : "PASSWORD",
      "node_root_password" : "Mrs@1234",
      "mrs_ecs_default_agency" : "MRS_ECS_DEFAULT_AGENCY",
      "template_id" : "mgmt_control_data_separated_v2",
      "log_collection" : 1,
      "tags" : [ {
        "key" : "aaa",
        "value" : "111"
      }, {
        "key" : "bbb",
        "value" : "222"
      } ],
      "node_groups" : [ {
        "group_name" : "master_node_default_group",
        "node_num" : 9,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 600
        },
        "data_volume_count" : 1,
        "assigned_roles" : [ "OMSServer:1,2", "SlapdServer:5,6", "KerberosServer:5,6", "KerberosAdmin:5,6", "quorumpeer:5,6,7,8,9", "NameNode:3,4", "Zkfc:3,4", "JournalNode:5,6,7", "ResourceManager:8,9", "JobHistoryServer:8", "DBServer:8,9", "Hue:8,9", "FlinkResource:3,4", "LoaderServer:3,5", "MetaStore:8,9", "WebHCat:5", "HiveServer:8,9", "HMaster:8,9", "FTP-Server:3,4", "MonitorServer:3,4", "Nimbus:8,9", "UI:8,9", "JDBCServer2x:8,9", "JobHistory2x:8,9", "SparkResource2x:5,6,7", "oozie:4,5", "EsMaster:7,8,9", "LoadBalancer:8,9", "TezUI:5,6", "TimelineServer:5", "RangerAdmin:4,5", "UserSync:5", "TagSync:5", "KerberosClient", "SlapdClient", "meta", "HSBroker:5", "HSConsole:3,4", "FlinkResource:3,4" ]
      }, {
        "group_name" : "node_group_1",
        "node_num" : 3,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 600
        },
        "data_volume_count" : 1,
        "assigned_roles" : [ "DataNode", "NodeManager", "RegionServer", "Flume:1", "GraphServer", "KerberosClient", "SlapdClient", "meta", "HSBroker:1,2" ]
      }, {
        "group_name" : "node_group_2",
        "node_num" : 3,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 600
        },
        "data_volume_count" : 1,
        "assigned_roles" : [ "HBaseIndexer", "SolrServer[3]", "EsNode[2]", "KerberosClient", "SlapdClient", "meta", "SolrServerAdmin:1,2" ]
      }, {
        "group_name" : "node_group_3",
        "node_num" : 3,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 600
        },
        "data_volume_count" : 1,
        "assigned_roles" : [ "Redis[2]", "KerberosClient", "SlapdClient", "meta" ]
      }, {
        "group_name" : "node_group_4",
        "node_num" : 3,
        "node_size" : "rc3.4xlarge.4.linux.bigdata",
        "root_volume" : {
          "type" : "SAS",
          "size" : 100
        },
        "data_volume" : {
          "type" : "SAS",
          "size" : 600
        },
        "data_volume_count" : 1,
        "assigned_roles" : [ "Broker", "Supervisor", "Logviewer", "KerberosClient", "SlapdClient", "meta" ]
      } ]
    }
    ```


## 响应示例<a name="section208036716211"></a>

**状态码： 200**

正常响应示例。

```
{
  "cluster_id" : "da1592c2-bb7e-468d-9ac9-83246e95447a"
}
```

## 状态码<a name="section1980457142113"></a>

<a name="zh-cn_topic_0000001075561622_status_code"></a>
<table><thead align="left"><tr id="row1968311662115"><th class="cellrowborder" valign="top" width="15%" id="mcps1.1.3.1.1"><p id="p58041379211"><a name="p58041379211"></a><a name="p58041379211"></a>状态码</p>
</th>
<th class="cellrowborder" valign="top" width="85%" id="mcps1.1.3.1.2"><p id="p7804978212"><a name="p7804978212"></a><a name="p7804978212"></a>描述</p>
</th>
</tr>
</thead>
<tbody><tr id="row86838692119"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.1.3.1.1 "><p id="p98048722110"><a name="p98048722110"></a><a name="p98048722110"></a>200</p>
</td>
<td class="cellrowborder" valign="top" width="85%" headers="mcps1.1.3.1.2 "><p id="p15804127202111"><a name="p15804127202111"></a><a name="p15804127202111"></a>正常响应示例。</p>
</td>
</tr>
</tbody>
</table>

## 错误码<a name="section188045714214"></a>

请参见[错误码](错误码.md)。

