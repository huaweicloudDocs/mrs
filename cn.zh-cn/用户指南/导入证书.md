# 导入证书<a name="admin_guide_000157"></a>

## 操作场景<a name="zh-cn_topic_0263899308_sc966349c08c44723996237c6b7e403d1"></a>

CA证书用于FusionInsight Manager各个模块、集群的组件客户端与服务端在通信过程中加密数据，实现安全通信。FusionInsight Manager支持快速导入CA证书，以确保产品安全使用。适用于以下场景：

-   首次安装好集群以后，需要更换企业证书。
-   企业证书有效时间已过期或安全性加强，需要更换为新的证书。

## 对系统的影响<a name="zh-cn_topic_0263899308_sfc16142de0954095bb08beec3e7e3f69"></a>

-   更换证书过程中集群需要重启，此时系统无法访问且无法提供服务。
-   更换证书以后，所有组件和Manager的模块使用的证书将自动更新。
-   更换证书以后，还末信任该证书的本地环境，需要重新安装证书。

## 前提条件<a name="zh-cn_topic_0263899308_s8828bdb45e314ce3bb2677947c8fc392"></a>

-   证书文件和密钥文件可向企业证书管理员申请或由管理员生成。
-   获取需要导入到集群的CA证书文件（\*.crt）、密钥文件（\*.key）以及保存访问密钥文件密码的文件（password.property）。证书名称和密钥名称支持大小写字母和数字。以上文件在生成以后需要打包成tar格式压缩包。
-   准备一个访问密钥文件的密码例如“Userpwd@123”用于访问密钥文件。

    密码复杂度要求如下，如果密码复杂度不满足如下要求，可能存在安全风险：

    -   密码字符长度最小为8位。
    -   至少需要包含大写字母、小写字母、数字、特殊字符\~\`!?,.;-\_'\(\)\{\}\[\]/<\>@\#$%^&\*+|\\=中的4种类型字符。

-   向证书管理员申请证书时，请提供访问密钥文件的密码并申请crt、cer、cert和pem格式证书文件，以及key和pem格式密钥文件。申请的证书需要有签发功能。

## 操作步骤<a name="zh-cn_topic_0263899308_section2053565583820"></a>

1.  登录FusionInsight Manager，选择“系统  \>  证书“。
2.  在“上传证书”右侧单击![](figures/zh-cn_image_0263899546.png)，在文件窗口中浏览已获取的证书文件tar压缩包并确认选择此文件。
3.  单击上传文件，Manager将上传压缩包并自动执行导入操作。
4.  导入完成后提示同步集群配置并重启WEB服务使新证书生效，单击“确定”。
5.  在弹出窗口输入当前登录用户密码验证身份，单击“确定”自动同步集群配置并重启WEB服务。
6.  重启完成后在浏览器地址栏中，输入并访问FusionInsight Manager的网络地址，验证能否正常打开页面。
7.  登录FusionInsight Manager。
8.  选择“集群  \>  _待操作集群的名称_  \> 概览 \> 更多  \>  重启“。
9.  输入当前登录的用户密码确认身份，单击“确定“。

