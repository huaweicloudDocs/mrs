# 数据迁移网络端口要求<a name="mrs_01_0787"></a>

## HDFS组件端口<a name="section11456103113815"></a>

**表 1**  HDFS组件端口

<a name="table16275038446"></a>
<table><thead align="left"><tr id="row22759319441"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p1275193184418"><a name="p1275193184418"></a><a name="p1275193184418"></a>配置参数</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p18275132444"><a name="p18275132444"></a><a name="p18275132444"></a>默认端口（Hadoop 2.x和Hadoop 3.x版本）</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p152757314447"><a name="p152757314447"></a><a name="p152757314447"></a>端口说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row52751937448"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p1666793614417"><a name="p1666793614417"></a><a name="p1666793614417"></a>dfs.namenode.rpc.port</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p17667736104414"><a name="p17667736104414"></a><a name="p17667736104414"></a>9820</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p266763612447"><a name="p266763612447"></a><a name="p266763612447"></a>迁移过程中，需要访问namenode获取文件列表。</p>
</td>
</tr>
<tr id="row16275730449"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p3667153664411"><a name="p3667153664411"></a><a name="p3667153664411"></a>dfs.datanode.port</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p1466713365441"><a name="p1466713365441"></a><a name="p1466713365441"></a>25009</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p1466783619441"><a name="p1466783619441"></a><a name="p1466783619441"></a>迁移过程中，需要访问datanode读取具体文件数据。</p>
</td>
</tr>
</tbody>
</table>

## ZooKeeper组件端口<a name="section4201320418"></a>

**表 2**  ZooKeeper组件端口

<a name="table1423610282419"></a>
<table><thead align="left"><tr id="row2023715281417"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p923712286410"><a name="p923712286410"></a><a name="p923712286410"></a>配置参数</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p4237112811415"><a name="p4237112811415"></a><a name="p4237112811415"></a>默认端口</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p18237182810415"><a name="p18237182810415"></a><a name="p18237182810415"></a>端口说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row112373288415"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p135205113813"><a name="p135205113813"></a><a name="p135205113813"></a>clientPort</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p18521351133811"><a name="p18521351133811"></a><a name="p18521351133811"></a>2181</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p9521051153813"><a name="p9521051153813"></a><a name="p9521051153813"></a>ZooKeeper客户端连接ZooKeeper服务器。</p>
</td>
</tr>
</tbody>
</table>

## Kerberos组件端口<a name="section19916352430"></a>

**表 3**  Kerberos组件端口

<a name="table199913514312"></a>
<table><thead align="left"><tr id="row110043511437"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p171001335164317"><a name="p171001335164317"></a><a name="p171001335164317"></a>配置参数</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p12100143516436"><a name="p12100143516436"></a><a name="p12100143516436"></a>默认端口</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p2100835164310"><a name="p2100835164310"></a><a name="p2100835164310"></a>端口说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row81008355437"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p82511590465"><a name="p82511590465"></a><a name="p82511590465"></a>kdc_ports</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p52511094468"><a name="p52511094468"></a><a name="p52511094468"></a>21732</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p102511390469"><a name="p102511390469"></a><a name="p102511390469"></a>Kerberos服务认证，非Kerberos集群不涉及。</p>
</td>
</tr>
</tbody>
</table>

## Hive组件端口<a name="section723512361432"></a>

**表 4**  Hive组件端口

<a name="table6235173664319"></a>
<table><thead align="left"><tr id="row3236436114316"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p17236163610438"><a name="p17236163610438"></a><a name="p17236163610438"></a>配置参数</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p12236836194318"><a name="p12236836194318"></a><a name="p12236836194318"></a>默认端口（Hive 2.x和Hive3.x版本）</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p1236123694315"><a name="p1236123694315"></a><a name="p1236123694315"></a>端口说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row92361236114314"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p187181945164617"><a name="p187181945164617"></a><a name="p187181945164617"></a>hive.metastore.port</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p147182459461"><a name="p147182459461"></a><a name="p147182459461"></a>9083</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p47191645144612"><a name="p47191645144612"></a><a name="p47191645144612"></a>MetaStore 提供Thrift 服务的端口。迁移过程中，需要访问该端口查询表元数据信息。</p>
</td>
</tr>
</tbody>
</table>

## HBase组件端口<a name="section177368369431"></a>

**表 5**  HBase组件端口

<a name="table12736193617430"></a>
<table><thead align="left"><tr id="row47366367438"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p1673618368437"><a name="p1673618368437"></a><a name="p1673618368437"></a>配置参数</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p16736236174315"><a name="p16736236174315"></a><a name="p16736236174315"></a>默认端口（HBase1.x和HBase 2.x版本）</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p1173683614313"><a name="p1173683614313"></a><a name="p1173683614313"></a>端口说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row1973612365437"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p379214817492"><a name="p379214817492"></a><a name="p379214817492"></a>hbase.master.port</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p97926483499"><a name="p97926483499"></a><a name="p97926483499"></a>16000</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p1479274815491"><a name="p1479274815491"></a><a name="p1479274815491"></a>HMaster RPC端口。该端口用于HBase客户端连接到HMaster。</p>
</td>
</tr>
<tr id="row1373733614431"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p479234804912"><a name="p479234804912"></a><a name="p479234804912"></a>hbase.regionserver.port</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p19792134844918"><a name="p19792134844918"></a><a name="p19792134844918"></a>16020</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p1579244817496"><a name="p1579244817496"></a><a name="p1579244817496"></a>RS (RegoinServer) RPC端口。该端口用于HBase客户端连接到RegionServer。</p>
</td>
</tr>
</tbody>
</table>

## Manager组件端口<a name="section32105372437"></a>

**表 6**  Manager组件端口

<a name="table9210143774313"></a>
<table><thead align="left"><tr id="row11210837174317"><th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.1"><p id="p521123744314"><a name="p521123744314"></a><a name="p521123744314"></a>配置参数</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.2"><p id="p2211113719432"><a name="p2211113719432"></a><a name="p2211113719432"></a>默认端口</p>
</th>
<th class="cellrowborder" valign="top" width="33.33333333333333%" id="mcps1.2.4.1.3"><p id="p72116379436"><a name="p72116379436"></a><a name="p72116379436"></a>端口说明</p>
</th>
</tr>
</thead>
<tbody><tr id="row1211173712434"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p4608035165014"><a name="p4608035165014"></a><a name="p4608035165014"></a>NA</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p1660815354504"><a name="p1660815354504"></a><a name="p1660815354504"></a>28443</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p196081935175010"><a name="p196081935175010"></a><a name="p196081935175010"></a>FusionInsight/MRS Manager页面端口。CDM迁移时候访问该地址获取集群配置。</p>
</td>
</tr>
<tr id="row1621133764315"><td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.1 "><p id="p96081535115013"><a name="p96081535115013"></a><a name="p96081535115013"></a>NA</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.2 "><p id="p2608173513501"><a name="p2608173513501"></a><a name="p2608173513501"></a>20009</p>
</td>
<td class="cellrowborder" valign="top" width="33.33333333333333%" headers="mcps1.2.4.1.3 "><p id="p146091435115019"><a name="p146091435115019"></a><a name="p146091435115019"></a>FusionInsight/MRS Manager CAS协议端口，用于登录认证。</p>
</td>
</tr>
</tbody>
</table>

