# 高危操作一览表<a name="mrs_01_0785"></a>

## 禁用操作<a name="admin_guide_000295_section117376406101"></a>

[表1](#admin_guide_000295_zh-cn_topic_0046737034_table44115416)中描述了在集群操作与维护阶段，观察进行日常操作时应注意的禁用操作。

**表 1**  禁用操作

<a name="admin_guide_000295_zh-cn_topic_0046737034_table44115416"></a>
<table><thead align="left"><tr id="admin_guide_000295_zh-cn_topic_0046737034_row56229731"><th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.1"><p id="admin_guide_000295_zh-cn_topic_0046737034_p58314347"><a name="admin_guide_000295_zh-cn_topic_0046737034_p58314347"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p58314347"></a>类别</p>
</th>
<th class="cellrowborder" valign="top" width="50%" id="mcps1.2.3.1.2"><p id="admin_guide_000295_zh-cn_topic_0046737034_p25841643"><a name="admin_guide_000295_zh-cn_topic_0046737034_p25841643"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p25841643"></a>操作风险</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_zh-cn_topic_0046737034_row12798348"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="admin_guide_000295_zh-cn_topic_0046737034_p30033269"><a name="admin_guide_000295_zh-cn_topic_0046737034_p30033269"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p30033269"></a>严禁删除ZooKeeper相关数据目录</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="admin_guide_000295_zh-cn_topic_0046737034_p16775759"><a name="admin_guide_000295_zh-cn_topic_0046737034_p16775759"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p16775759"></a>ClickHouse/HDFS/Yarn/HBase/Hive等很多组件都依赖于ZooKeeper，在ZooKeeper中保存元数据信息。删除ZooKeeper中相关数据目录将会影响相关组件的正常运行。</p>
</td>
</tr>
<tr id="admin_guide_000295_zh-cn_topic_0046737034_row16764110"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="admin_guide_000295_zh-cn_topic_0046737034_p15715668"><a name="admin_guide_000295_zh-cn_topic_0046737034_p15715668"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p15715668"></a>严禁JDBCServer主备节点频繁倒换</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="admin_guide_000295_zh-cn_topic_0046737034_p65009566"><a name="admin_guide_000295_zh-cn_topic_0046737034_p65009566"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p65009566"></a>频繁主备倒换将导致业务中断。</p>
</td>
</tr>
<tr id="admin_guide_000295_zh-cn_topic_0046737034_row48215184"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="admin_guide_000295_zh-cn_topic_0046737034_p13115836"><a name="admin_guide_000295_zh-cn_topic_0046737034_p13115836"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p13115836"></a>严禁删除Phoenix系统表或系统表数据(SYSTEM.CATALOG、SYSTEM.STATS、SYSTEM.SEQUENCE、SYSTEM. FUNCTION)</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="admin_guide_000295_zh-cn_topic_0046737034_p55749792"><a name="admin_guide_000295_zh-cn_topic_0046737034_p55749792"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p55749792"></a>删除系统表将导致无法正常进行业务操作。</p>
</td>
</tr>
<tr id="admin_guide_000295_zh-cn_topic_0046737034_row31986087"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="admin_guide_000295_zh-cn_topic_0046737034_p40736275"><a name="admin_guide_000295_zh-cn_topic_0046737034_p40736275"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p40736275"></a>严禁手动修改Hive元数据库的数据（hivemeta数据库）</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="admin_guide_000295_zh-cn_topic_0046737034_p11304012"><a name="admin_guide_000295_zh-cn_topic_0046737034_p11304012"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p11304012"></a>修改Hive元数据可能会导致Hive数据解析错误，Hive无法正常提供服务。</p>
</td>
</tr>
<tr id="admin_guide_000295_zh-cn_topic_0046737034_row34627249"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="admin_guide_000295_zh-cn_topic_0046737034_p53343751"><a name="admin_guide_000295_zh-cn_topic_0046737034_p53343751"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p53343751"></a>严禁修改Hive私有文件目录hdfs:///tmp/hive-scratch的权限</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="admin_guide_000295_zh-cn_topic_0046737034_p25876574"><a name="admin_guide_000295_zh-cn_topic_0046737034_p25876574"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p25876574"></a>修改该目录权限可能会导致Hive服务不可用。</p>
</td>
</tr>
<tr id="admin_guide_000295_zh-cn_topic_0046737034_row31562577"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="admin_guide_000295_zh-cn_topic_0046737034_p6431948"><a name="admin_guide_000295_zh-cn_topic_0046737034_p6431948"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p6431948"></a>严禁修改Kafka配置文件中broker.id</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="admin_guide_000295_zh-cn_topic_0046737034_p51225755"><a name="admin_guide_000295_zh-cn_topic_0046737034_p51225755"></a><a name="admin_guide_000295_zh-cn_topic_0046737034_p51225755"></a>修改Kafka配置文件中broker.id将会导致该节点数据失效。</p>
</td>
</tr>
<tr id="admin_guide_000295_row38725961154330"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="admin_guide_000295_p49795146154330"><a name="admin_guide_000295_p49795146154330"></a><a name="admin_guide_000295_p49795146154330"></a>严禁修改节点主机名</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="admin_guide_000295_p3016066515456"><a name="admin_guide_000295_p3016066515456"></a><a name="admin_guide_000295_p3016066515456"></a>主机名修改后会导致该主机上相关实例和上层组件无法正常提供服务，且无法修复。</p>
</td>
</tr>
<tr id="admin_guide_000295_row129251129142213"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="admin_guide_000295_p20925192910227"><a name="admin_guide_000295_p20925192910227"></a><a name="admin_guide_000295_p20925192910227"></a>禁止重装节点OS</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="admin_guide_000295_p31264915573"><a name="admin_guide_000295_p31264915573"></a><a name="admin_guide_000295_p31264915573"></a>该操作会导致MRS集群进入异常状态，影响MRS集群使用。</p>
</td>
</tr>
<tr id="admin_guide_000295_row9647105552319"><td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.1 "><p id="admin_guide_000295_p2647105517239"><a name="admin_guide_000295_p2647105517239"></a><a name="admin_guide_000295_p2647105517239"></a>禁止使用私有镜像</p>
</td>
<td class="cellrowborder" valign="top" width="50%" headers="mcps1.2.3.1.2 "><p id="admin_guide_000295_p32442115254"><a name="admin_guide_000295_p32442115254"></a><a name="admin_guide_000295_p32442115254"></a>该操作会导致MRS集群进入异常状态，影响MRS集群使用。</p>
</td>
</tr>
</tbody>
</table>

以下各表分别描述了各组件在操作与维护阶段，进行日常操作时应注意的高危操作。

## 集群高危操作<a name="admin_guide_000295_section1496594551616"></a>

**表 2**  集群高危操作

<a name="admin_guide_000295_table3282621151817"></a>
<table><thead align="left"><tr id="admin_guide_000295_row728219217186"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p3282102115180"><a name="admin_guide_000295_p3282102115180"></a><a name="admin_guide_000295_p3282102115180"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p328292119183"><a name="admin_guide_000295_p328292119183"></a><a name="admin_guide_000295_p328292119183"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p1928210213186"><a name="admin_guide_000295_p1928210213186"></a><a name="admin_guide_000295_p1928210213186"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p528218219189"><a name="admin_guide_000295_p528218219189"></a><a name="admin_guide_000295_p528218219189"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p228214216188"><a name="admin_guide_000295_p228214216188"></a><a name="admin_guide_000295_p228214216188"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row171531535145511"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p5153123510554"><a name="admin_guide_000295_p5153123510554"></a><a name="admin_guide_000295_p5153123510554"></a>随意修改omm用户下的文件目录或者文件权限</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1915319355559"><a name="admin_guide_000295_p1915319355559"></a><a name="admin_guide_000295_p1915319355559"></a>该操作会导致MRS集群服务不可用</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p215363514552"><a name="admin_guide_000295_p215363514552"></a><a name="admin_guide_000295_p215363514552"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1822215620510"><a name="admin_guide_000295_p1822215620510"></a><a name="admin_guide_000295_p1822215620510"></a>请勿执行该操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p192221367510"><a name="admin_guide_000295_p192221367510"></a><a name="admin_guide_000295_p192221367510"></a>观察MRS集群服务是否可用</p>
</td>
</tr>
<tr id="admin_guide_000295_row15430105115593"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p184301251155912"><a name="admin_guide_000295_p184301251155912"></a><a name="admin_guide_000295_p184301251155912"></a>绑定弹性公网IP</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p14150813829"><a name="admin_guide_000295_p14150813829"></a><a name="admin_guide_000295_p14150813829"></a>该操作会将集群的manager所在的master节点暴露在公网，会增大来自互联网的网络攻击风险可能性</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1143085118598"><a name="admin_guide_000295_p1143085118598"></a><a name="admin_guide_000295_p1143085118598"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1143065145914"><a name="admin_guide_000295_p1143065145914"></a><a name="admin_guide_000295_p1143065145914"></a>请确认绑定的弹性公网IP为可信任的公网访问IP</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p243015510590"><a name="admin_guide_000295_p243015510590"></a><a name="admin_guide_000295_p243015510590"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row11299114917591"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p447394512219"><a name="admin_guide_000295_p447394512219"></a><a name="admin_guide_000295_p447394512219"></a>开放集群22端口安全组规则</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p330064918599"><a name="admin_guide_000295_p330064918599"></a><a name="admin_guide_000295_p330064918599"></a>该操作会增大用户利用22进行漏洞攻击的风险</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p113009494591"><a name="admin_guide_000295_p113009494591"></a><a name="admin_guide_000295_p113009494591"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p153003495599"><a name="admin_guide_000295_p153003495599"></a><a name="admin_guide_000295_p153003495599"></a>针对开放的22端口进行设置安全组规则，只允许可信的IP可以访问该端口，入方向规则不推荐设置允许0.0.0.0可以访问。</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p17300149115910"><a name="admin_guide_000295_p17300149115910"></a><a name="admin_guide_000295_p17300149115910"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row796093217559"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p59601321555"><a name="admin_guide_000295_p59601321555"></a><a name="admin_guide_000295_p59601321555"></a>删除集群或删除集群数据</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p996083245510"><a name="admin_guide_000295_p996083245510"></a><a name="admin_guide_000295_p996083245510"></a>该操作会导致数据丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p696010326559"><a name="admin_guide_000295_p696010326559"></a><a name="admin_guide_000295_p696010326559"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p12960143205513"><a name="admin_guide_000295_p12960143205513"></a><a name="admin_guide_000295_p12960143205513"></a>删除前请务必再次确认该操作的必要性，同时要保证数据已完成备份</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1996018329557"><a name="admin_guide_000295_p1996018329557"></a><a name="admin_guide_000295_p1996018329557"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row1543893018555"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p15978559175512"><a name="admin_guide_000295_p15978559175512"></a><a name="admin_guide_000295_p15978559175512"></a>缩容集群</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1228116505105"><a name="admin_guide_000295_p1228116505105"></a><a name="admin_guide_000295_p1228116505105"></a>该操作会导致数据丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p643813306550"><a name="admin_guide_000295_p643813306550"></a><a name="admin_guide_000295_p643813306550"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p64383309553"><a name="admin_guide_000295_p64383309553"></a><a name="admin_guide_000295_p64383309553"></a>缩容前请务必再次确认该操作的必要性，同时要保证数据已完成备份</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p11438103017554"><a name="admin_guide_000295_p11438103017554"></a><a name="admin_guide_000295_p11438103017554"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row167794121575"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1951614539010"><a name="admin_guide_000295_p1951614539010"></a><a name="admin_guide_000295_p1951614539010"></a>卸载磁盘或格式化数据盘</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p172362528100"><a name="admin_guide_000295_p172362528100"></a><a name="admin_guide_000295_p172362528100"></a>该操作会导致数据丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p14779612165711"><a name="admin_guide_000295_p14779612165711"></a><a name="admin_guide_000295_p14779612165711"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p47791512105719"><a name="admin_guide_000295_p47791512105719"></a><a name="admin_guide_000295_p47791512105719"></a>操作前请请务必再次确认该操作的必要性，同时要保证数据已完成备份</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p12779912135718"><a name="admin_guide_000295_p12779912135718"></a><a name="admin_guide_000295_p12779912135718"></a>无</p>
</td>
</tr>
</tbody>
</table>

## Manager高危操作<a name="admin_guide_000295_section57312231716"></a>

**表 3**  Manager高危操作

<a name="admin_guide_000295_table15983192521513"></a>
<table><thead align="left"><tr id="admin_guide_000295_row198332541516"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p8983142551516"><a name="admin_guide_000295_p8983142551516"></a><a name="admin_guide_000295_p8983142551516"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p898318253159"><a name="admin_guide_000295_p898318253159"></a><a name="admin_guide_000295_p898318253159"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p49831325161510"><a name="admin_guide_000295_p49831325161510"></a><a name="admin_guide_000295_p49831325161510"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p149834254158"><a name="admin_guide_000295_p149834254158"></a><a name="admin_guide_000295_p149834254158"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p39831625171510"><a name="admin_guide_000295_p39831625171510"></a><a name="admin_guide_000295_p39831625171510"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row79831225121519"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p9983625161517"><a name="admin_guide_000295_p9983625161517"></a><a name="admin_guide_000295_p9983625161517"></a>修改OMS密码</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p598362551516"><a name="admin_guide_000295_p598362551516"></a><a name="admin_guide_000295_p598362551516"></a>该操作会重启OMS各进程，影响集群的管理维护</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p15983925181518"><a name="admin_guide_000295_p15983925181518"></a><a name="admin_guide_000295_p15983925181518"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p19983132551519"><a name="admin_guide_000295_p19983132551519"></a><a name="admin_guide_000295_p19983132551519"></a>修改前确认操作的必要性，修改时确保同一时间无其它管理维护操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p098312255156"><a name="admin_guide_000295_p098312255156"></a><a name="admin_guide_000295_p098312255156"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row798352521511"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p12983172551516"><a name="admin_guide_000295_p12983172551516"></a><a name="admin_guide_000295_p12983172551516"></a>导入证书</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p5983172517159"><a name="admin_guide_000295_p5983172517159"></a><a name="admin_guide_000295_p5983172517159"></a>该操作会重启OMS进程和整个集群，影响集群的管理维护和业务</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p10983102531518"><a name="admin_guide_000295_p10983102531518"></a><a name="admin_guide_000295_p10983102531518"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1598319255157"><a name="admin_guide_000295_p1598319255157"></a><a name="admin_guide_000295_p1598319255157"></a>修改前确认操作的必要性，修改时确保同一时间无其它管理维护操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1998332516151"><a name="admin_guide_000295_p1998332516151"></a><a name="admin_guide_000295_p1998332516151"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常，业务是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row13983225111513"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p198310257152"><a name="admin_guide_000295_p198310257152"></a><a name="admin_guide_000295_p198310257152"></a>升级</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1098320259154"><a name="admin_guide_000295_p1098320259154"></a><a name="admin_guide_000295_p1098320259154"></a>该操作会重启Manager和整个集群，影响集群的管理维护和业务</p>
<p id="admin_guide_000295_p1984132511158"><a name="admin_guide_000295_p1984132511158"></a><a name="admin_guide_000295_p1984132511158"></a>分配集群管理权限的用户，需要严格管控，以防范可能的安全风险</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p5984825161515"><a name="admin_guide_000295_p5984825161515"></a><a name="admin_guide_000295_p5984825161515"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1198492517150"><a name="admin_guide_000295_p1198492517150"></a><a name="admin_guide_000295_p1198492517150"></a>修改时确保同一时间无其它管理维护操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1984325141517"><a name="admin_guide_000295_p1984325141517"></a><a name="admin_guide_000295_p1984325141517"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常，业务是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row10984125101515"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1098412521510"><a name="admin_guide_000295_p1098412521510"></a><a name="admin_guide_000295_p1098412521510"></a>恢复OMS</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1598452541519"><a name="admin_guide_000295_p1598452541519"></a><a name="admin_guide_000295_p1598452541519"></a>该操作会重启Manager和整个集群，影响集群的管理维护和业务</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p14984122514158"><a name="admin_guide_000295_p14984122514158"></a><a name="admin_guide_000295_p14984122514158"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p19845258154"><a name="admin_guide_000295_p19845258154"></a><a name="admin_guide_000295_p19845258154"></a>修改前确认操作的必要性，修改时确保同一时间无其它管理维护操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p139845258158"><a name="admin_guide_000295_p139845258158"></a><a name="admin_guide_000295_p139845258158"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常，业务是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row598412521510"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p13984142513155"><a name="admin_guide_000295_p13984142513155"></a><a name="admin_guide_000295_p13984142513155"></a>修改IP</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p19841725141514"><a name="admin_guide_000295_p19841725141514"></a><a name="admin_guide_000295_p19841725141514"></a>该操作会重启Manager和整个集群，影响集群的管理维护和业务</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p17984625111513"><a name="admin_guide_000295_p17984625111513"></a><a name="admin_guide_000295_p17984625111513"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1298462581518"><a name="admin_guide_000295_p1298462581518"></a><a name="admin_guide_000295_p1298462581518"></a>修改时确保同一时间无其它管理维护操作，且修改的IP填写正确无误</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p6984142541513"><a name="admin_guide_000295_p6984142541513"></a><a name="admin_guide_000295_p6984142541513"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常，业务是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row119846253152"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p29841825171511"><a name="admin_guide_000295_p29841825171511"></a><a name="admin_guide_000295_p29841825171511"></a>修改日志级别</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p298412255152"><a name="admin_guide_000295_p298412255152"></a><a name="admin_guide_000295_p298412255152"></a>如果修改为DEBUG，会导致Manager运行速度明显降低</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p49841125111517"><a name="admin_guide_000295_p49841125111517"></a><a name="admin_guide_000295_p49841125111517"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1998422517156"><a name="admin_guide_000295_p1998422517156"></a><a name="admin_guide_000295_p1998422517156"></a>修改前确认操作的必要性，并及时修改回默认设定</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1798462512156"><a name="admin_guide_000295_p1798462512156"></a><a name="admin_guide_000295_p1798462512156"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row2984425161517"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p2984625101511"><a name="admin_guide_000295_p2984625101511"></a><a name="admin_guide_000295_p2984625101511"></a>更换控制节点</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1098482501514"><a name="admin_guide_000295_p1098482501514"></a><a name="admin_guide_000295_p1098482501514"></a>该操作会导致部署在该节点上的服务中断，且当该节点同时为管理节点时，更换节点会导致重启OMS各进程，影响集群的管理维护</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1998432514158"><a name="admin_guide_000295_p1998432514158"></a><a name="admin_guide_000295_p1998432514158"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p129841025111516"><a name="admin_guide_000295_p129841025111516"></a><a name="admin_guide_000295_p129841025111516"></a>更换前确认操作的必要性，更换时确保同一时间无其它管理维护操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p598416256155"><a name="admin_guide_000295_p598416256155"></a><a name="admin_guide_000295_p598416256155"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常，业务是否正常</p>
<p id="admin_guide_000295_p49841325161516"><a name="admin_guide_000295_p49841325161516"></a><a name="admin_guide_000295_p49841325161516"></a></p>
</td>
</tr>
<tr id="admin_guide_000295_row49841125191516"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p10984172521514"><a name="admin_guide_000295_p10984172521514"></a><a name="admin_guide_000295_p10984172521514"></a>更换管理节点</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p598482510157"><a name="admin_guide_000295_p598482510157"></a><a name="admin_guide_000295_p598482510157"></a>该操作会导致部署在该节点上的服务中断，会导致重启OMS各进程，影响集群的管理维护</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p398492501510"><a name="admin_guide_000295_p398492501510"></a><a name="admin_guide_000295_p398492501510"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1198472521513"><a name="admin_guide_000295_p1198472521513"></a><a name="admin_guide_000295_p1198472521513"></a>更换前确认操作的必要性，更换时确保同一时间无其它管理维护操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p4984162591512"><a name="admin_guide_000295_p4984162591512"></a><a name="admin_guide_000295_p4984162591512"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常，业务是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row19984102561519"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p198410259157"><a name="admin_guide_000295_p198410259157"></a><a name="admin_guide_000295_p198410259157"></a>重启下层服务时，如果勾选同时重启上层服务</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p19984122520156"><a name="admin_guide_000295_p19984122520156"></a><a name="admin_guide_000295_p19984122520156"></a>该操作会导致上层服务业务中断，影响集群的管理维护和业务</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p12984162521516"><a name="admin_guide_000295_p12984162521516"></a><a name="admin_guide_000295_p12984162521516"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p9984122521519"><a name="admin_guide_000295_p9984122521519"></a><a name="admin_guide_000295_p9984122521519"></a>操作前确认操作的必要性，操作时确保同一时间无其它管理维护操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p159841625171512"><a name="admin_guide_000295_p159841625171512"></a><a name="admin_guide_000295_p159841625171512"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常，业务是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row7984725101518"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p29841925181516"><a name="admin_guide_000295_p29841925181516"></a><a name="admin_guide_000295_p29841925181516"></a>修改OLDAP端口</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p79841125151516"><a name="admin_guide_000295_p79841125151516"></a><a name="admin_guide_000295_p79841125151516"></a>修改该参数时，会重启LdapServer和Kerberos服务和其关联的所有服务，会影响业务运行</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1198411257153"><a name="admin_guide_000295_p1198411257153"></a><a name="admin_guide_000295_p1198411257153"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p18984725101514"><a name="admin_guide_000295_p18984725101514"></a><a name="admin_guide_000295_p18984725101514"></a>操作前确认操作的必要性，操作时确保同一时间无其它管理维护操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p5984825151516"><a name="admin_guide_000295_p5984825151516"></a><a name="admin_guide_000295_p5984825151516"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row798412252158"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p20984825191512"><a name="admin_guide_000295_p20984825191512"></a><a name="admin_guide_000295_p20984825191512"></a>用户删除supergroup组</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p698492513158"><a name="admin_guide_000295_p698492513158"></a><a name="admin_guide_000295_p698492513158"></a>删除supergroup组导致相关用户权限变小，影响业务访问</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p898411258156"><a name="admin_guide_000295_p898411258156"></a><a name="admin_guide_000295_p898411258156"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p79846250154"><a name="admin_guide_000295_p79846250154"></a><a name="admin_guide_000295_p79846250154"></a>修改前确认需要添加的权限，确保用户绑定的supergroup权限删除前，相关权限已经添加，不会对业务造成影响</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p8984525141515"><a name="admin_guide_000295_p8984525141515"></a><a name="admin_guide_000295_p8984525141515"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row1198513252151"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1098592514153"><a name="admin_guide_000295_p1098592514153"></a><a name="admin_guide_000295_p1098592514153"></a>重启服务</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1498582515152"><a name="admin_guide_000295_p1498582515152"></a><a name="admin_guide_000295_p1498582515152"></a>重启过程中会中断服务，如果勾选同时重启上层服务会导致依赖该服务的上层服务中断</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p3985152551519"><a name="admin_guide_000295_p3985152551519"></a><a name="admin_guide_000295_p3985152551519"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p4985925131516"><a name="admin_guide_000295_p4985925131516"></a><a name="admin_guide_000295_p4985925131516"></a>操作前确认重启的必要性</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p18985172515153"><a name="admin_guide_000295_p18985172515153"></a><a name="admin_guide_000295_p18985172515153"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常，业务是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row159851025201518"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p7985122518152"><a name="admin_guide_000295_p7985122518152"></a><a name="admin_guide_000295_p7985122518152"></a>修改节点SSH默认端口</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p119851425141511"><a name="admin_guide_000295_p119851425141511"></a><a name="admin_guide_000295_p119851425141511"></a>修改默认端口（22）将导致创建集群、添加服务/实例、添加主机、重装主机等功能无法正常使用，并且会导致集群健康检查结果中节点互信、omm/ommdba用户密码过期等检查项不准确</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p698514256156"><a name="admin_guide_000295_p698514256156"></a><a name="admin_guide_000295_p698514256156"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p109855253153"><a name="admin_guide_000295_p109855253153"></a><a name="admin_guide_000295_p109855253153"></a>执行相关操作前将SSH端口改回默认值</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p298515252155"><a name="admin_guide_000295_p298515252155"></a><a name="admin_guide_000295_p298515252155"></a>无</p>
</td>
</tr>
</tbody>
</table>

## ClickHouse高危操作<a name="admin_guide_000295_section154151952171612"></a>

**表 4**  ClickHouse高危操作

<a name="admin_guide_000295_table104153521168"></a>
<table><thead align="left"><tr id="admin_guide_000295_row11415105211614"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p6416165210165"><a name="admin_guide_000295_p6416165210165"></a><a name="admin_guide_000295_p6416165210165"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p1741655241613"><a name="admin_guide_000295_p1741655241613"></a><a name="admin_guide_000295_p1741655241613"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p841675217166"><a name="admin_guide_000295_p841675217166"></a><a name="admin_guide_000295_p841675217166"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p1441695221617"><a name="admin_guide_000295_p1441695221617"></a><a name="admin_guide_000295_p1441695221617"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p13416352171619"><a name="admin_guide_000295_p13416352171619"></a><a name="admin_guide_000295_p13416352171619"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row19416155201611"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1630675831816"><a name="admin_guide_000295_p1630675831816"></a><a name="admin_guide_000295_p1630675831816"></a>删除数据目录</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p830612581185"><a name="admin_guide_000295_p830612581185"></a><a name="admin_guide_000295_p830612581185"></a>该操作将会导致业务信息丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p4306165801816"><a name="admin_guide_000295_p4306165801816"></a><a name="admin_guide_000295_p4306165801816"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p103061358161811"><a name="admin_guide_000295_p103061358161811"></a><a name="admin_guide_000295_p103061358161811"></a>请勿手动删除数据目录</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p5306175819187"><a name="admin_guide_000295_p5306175819187"></a><a name="admin_guide_000295_p5306175819187"></a>观察数据目录是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row061052513206"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p2061042515209"><a name="admin_guide_000295_p2061042515209"></a><a name="admin_guide_000295_p2061042515209"></a>缩容ClickHouseServer实例</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p126100251203"><a name="admin_guide_000295_p126100251203"></a><a name="admin_guide_000295_p126100251203"></a>该操作需要关注同分片中的ClickHouseServer实例节点需要同时退服缩容，否则会造成逻辑集群拓扑信息错乱；该操作执行前需检查逻辑集群内各节点的数据库和数据表信息，进行缩容预分析，保证缩容退服过程中数据迁移成功，避免数据丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p361002562013"><a name="admin_guide_000295_p361002562013"></a><a name="admin_guide_000295_p361002562013"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1461017252206"><a name="admin_guide_000295_p1461017252206"></a><a name="admin_guide_000295_p1461017252206"></a>进行缩容操作前，提前收集信息进行ClickHouse逻辑集群及实例节点状态判断</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p361012256208"><a name="admin_guide_000295_p361012256208"></a><a name="admin_guide_000295_p361012256208"></a>观察ClickHouse逻辑集群拓扑信息，各ClickHouseServer中数据库和数据表信息，以及数据量</p>
</td>
</tr>
<tr id="admin_guide_000295_row46288164227"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p162961692210"><a name="admin_guide_000295_p162961692210"></a><a name="admin_guide_000295_p162961692210"></a>扩容ClickHouseServer实例</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p962913167226"><a name="admin_guide_000295_p962913167226"></a><a name="admin_guide_000295_p962913167226"></a>该操作需要关注新扩容节点是否需要创建老节点上同名的数据库或数据表，否则会造成后续数据迁移、数据均衡以及缩容退服失败</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p0518153062213"><a name="admin_guide_000295_p0518153062213"></a><a name="admin_guide_000295_p0518153062213"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1627193519224"><a name="admin_guide_000295_p1627193519224"></a><a name="admin_guide_000295_p1627193519224"></a>进行扩容操作前，确认新扩容ClickHouseServer实例作用和目的，是否需要同步创建相关数据库和数据表</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p81621646102211"><a name="admin_guide_000295_p81621646102211"></a><a name="admin_guide_000295_p81621646102211"></a>观察ClickHouse逻辑集群拓扑信息，各ClickHouseServer中数据库和数据表信息，以及数据量</p>
</td>
</tr>
<tr id="admin_guide_000295_row53242035142120"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p532413542112"><a name="admin_guide_000295_p532413542112"></a><a name="admin_guide_000295_p532413542112"></a>退服ClickHouseServer实例</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p14324153511219"><a name="admin_guide_000295_p14324153511219"></a><a name="admin_guide_000295_p14324153511219"></a>该操作需要关注同分片中的ClickHouseServer实例节点需要同时退服，否则会造成逻辑集群拓扑信息错乱；该操作执行前需检查逻辑集群内各节点的数据库和数据表信息，进行预分析，保证退服过程中数据迁移成功，避免数据丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p12324103520215"><a name="admin_guide_000295_p12324103520215"></a><a name="admin_guide_000295_p12324103520215"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1732410356216"><a name="admin_guide_000295_p1732410356216"></a><a name="admin_guide_000295_p1732410356216"></a>进行退服操作前，提前收集信息进行Clickhouse逻辑集群及实例节点状态判断</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p43240355214"><a name="admin_guide_000295_p43240355214"></a><a name="admin_guide_000295_p43240355214"></a>观察ClickHouse逻辑集群拓扑信息，各ClickHouseServer中数据库和数据表信息，以及数据量</p>
</td>
</tr>
<tr id="admin_guide_000295_row347553452210"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p6475143432213"><a name="admin_guide_000295_p6475143432213"></a><a name="admin_guide_000295_p6475143432213"></a>入服ClickHouseServer实例</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1475203442212"><a name="admin_guide_000295_p1475203442212"></a><a name="admin_guide_000295_p1475203442212"></a>该操作需要关注入服时必须选择原有分片中的所有节点入服，否则会造成逻辑集群拓扑信息错乱</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p14475153412220"><a name="admin_guide_000295_p14475153412220"></a><a name="admin_guide_000295_p14475153412220"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p64750343225"><a name="admin_guide_000295_p64750343225"></a><a name="admin_guide_000295_p64750343225"></a>进行入服操作前，对于待入服节点的分片归属信息需要确认</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p447519348222"><a name="admin_guide_000295_p447519348222"></a><a name="admin_guide_000295_p447519348222"></a>观察ClickHouse逻辑集群拓扑信息</p>
</td>
</tr>
<tr id="admin_guide_000295_row741685210160"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p19306145815185"><a name="admin_guide_000295_p19306145815185"></a><a name="admin_guide_000295_p19306145815185"></a>修改数据目录下内容（创建文件、文件夹）</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p7306155813181"><a name="admin_guide_000295_p7306155813181"></a><a name="admin_guide_000295_p7306155813181"></a>该操作将会导致该节点上的ClickHouse的实例故障</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p9306125815180"><a name="admin_guide_000295_p9306125815180"></a><a name="admin_guide_000295_p9306125815180"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1330675812187"><a name="admin_guide_000295_p1330675812187"></a><a name="admin_guide_000295_p1330675812187"></a>请勿手动在数据目录下创建或修改文件及文件夹</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p730625820180"><a name="admin_guide_000295_p730625820180"></a><a name="admin_guide_000295_p730625820180"></a>观察数据目录是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row154161052181616"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p6649124411199"><a name="admin_guide_000295_p6649124411199"></a><a name="admin_guide_000295_p6649124411199"></a>单独启停基础组件</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p15649114481913"><a name="admin_guide_000295_p15649114481913"></a><a name="admin_guide_000295_p15649114481913"></a>该操作将会影响服务的一些基础功能导致业务失败</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p0649144151917"><a name="admin_guide_000295_p0649144151917"></a><a name="admin_guide_000295_p0649144151917"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p86493445191"><a name="admin_guide_000295_p86493445191"></a><a name="admin_guide_000295_p86493445191"></a>请勿单独启停ZooKeeper/Kerberos/LDAP等基础组件，启停基础组件请勾选关联服务</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p2649844141910"><a name="admin_guide_000295_p2649844141910"></a><a name="admin_guide_000295_p2649844141910"></a>观察服务状态是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row64161952111610"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p36491944141918"><a name="admin_guide_000295_p36491944141918"></a><a name="admin_guide_000295_p36491944141918"></a>重启/停止服务</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p4649134412194"><a name="admin_guide_000295_p4649134412194"></a><a name="admin_guide_000295_p4649134412194"></a>该操作将会导致业务中断</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p4649444161919"><a name="admin_guide_000295_p4649444161919"></a><a name="admin_guide_000295_p4649444161919"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1864994419196"><a name="admin_guide_000295_p1864994419196"></a><a name="admin_guide_000295_p1864994419196"></a>确保在必要时重启/停止服务</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p464914418197"><a name="admin_guide_000295_p464914418197"></a><a name="admin_guide_000295_p464914418197"></a>观察服务是否运行正常</p>
</td>
</tr>
</tbody>
</table>

## DBService高危操作<a name="admin_guide_000295_section5536173693716"></a>

**表 5**  DBService高危操作

<a name="admin_guide_000295_table853616365378"></a>
<table><thead align="left"><tr id="admin_guide_000295_row2538163633716"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p6538103616376"><a name="admin_guide_000295_p6538103616376"></a><a name="admin_guide_000295_p6538103616376"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p6538336123718"><a name="admin_guide_000295_p6538336123718"></a><a name="admin_guide_000295_p6538336123718"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p18538113617379"><a name="admin_guide_000295_p18538113617379"></a><a name="admin_guide_000295_p18538113617379"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p5539036183713"><a name="admin_guide_000295_p5539036183713"></a><a name="admin_guide_000295_p5539036183713"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p1953916362374"><a name="admin_guide_000295_p1953916362374"></a><a name="admin_guide_000295_p1953916362374"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row253963617372"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p55398362376"><a name="admin_guide_000295_p55398362376"></a><a name="admin_guide_000295_p55398362376"></a>修改DBService密码</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p8539136193715"><a name="admin_guide_000295_p8539136193715"></a><a name="admin_guide_000295_p8539136193715"></a>修改密码需要重启服务，服务在重启过程中无法访问。</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p17540103620378"><a name="admin_guide_000295_p17540103620378"></a><a name="admin_guide_000295_p17540103620378"></a>★★★★</p>
<p id="admin_guide_000295_p3540193616373"><a name="admin_guide_000295_p3540193616373"></a><a name="admin_guide_000295_p3540193616373"></a></p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p8540193619375"><a name="admin_guide_000295_p8540193619375"></a><a name="admin_guide_000295_p8540193619375"></a>修改前确认操作的必要性，修改时确保同一时间无其它管理维护操作。</p>
<p id="admin_guide_000295_p15540636203719"><a name="admin_guide_000295_p15540636203719"></a><a name="admin_guide_000295_p15540636203719"></a></p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p19540036173718"><a name="admin_guide_000295_p19540036173718"></a><a name="admin_guide_000295_p19540036173718"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常</p>
<p id="admin_guide_000295_p115409363377"><a name="admin_guide_000295_p115409363377"></a><a name="admin_guide_000295_p115409363377"></a></p>
</td>
</tr>
<tr id="admin_guide_000295_row254043653719"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p5540193614370"><a name="admin_guide_000295_p5540193614370"></a><a name="admin_guide_000295_p5540193614370"></a>恢复DBService数据</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1654111361378"><a name="admin_guide_000295_p1654111361378"></a><a name="admin_guide_000295_p1654111361378"></a>数据恢复后，会丢失从备份时刻到恢复时刻之间的数据。</p>
<p id="admin_guide_000295_p1154113363378"><a name="admin_guide_000295_p1154113363378"></a><a name="admin_guide_000295_p1154113363378"></a>数据恢复后，依赖DBService的组件可能配置过期，需要重启配置过期的服务。</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p14541336203711"><a name="admin_guide_000295_p14541336203711"></a><a name="admin_guide_000295_p14541336203711"></a>★★★★</p>
<p id="admin_guide_000295_p125411236153711"><a name="admin_guide_000295_p125411236153711"></a><a name="admin_guide_000295_p125411236153711"></a></p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1554113367373"><a name="admin_guide_000295_p1554113367373"></a><a name="admin_guide_000295_p1554113367373"></a>恢复前确认操作的必要性，恢复时确保同一时间无其它管理维护操作。</p>
<p id="admin_guide_000295_p354133613379"><a name="admin_guide_000295_p354133613379"></a><a name="admin_guide_000295_p354133613379"></a></p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p165421536123716"><a name="admin_guide_000295_p165421536123716"></a><a name="admin_guide_000295_p165421536123716"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常</p>
<p id="admin_guide_000295_p11542193617373"><a name="admin_guide_000295_p11542193617373"></a><a name="admin_guide_000295_p11542193617373"></a></p>
</td>
</tr>
<tr id="admin_guide_000295_row19543173611378"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p12544336123718"><a name="admin_guide_000295_p12544336123718"></a><a name="admin_guide_000295_p12544336123718"></a>DBService主备倒换</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p45443365371"><a name="admin_guide_000295_p45443365371"></a><a name="admin_guide_000295_p45443365371"></a>倒换DBServer过程中，DBService无法提供服务。</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p7544536183718"><a name="admin_guide_000295_p7544536183718"></a><a name="admin_guide_000295_p7544536183718"></a>★★</p>
<p id="admin_guide_000295_p954411366378"><a name="admin_guide_000295_p954411366378"></a><a name="admin_guide_000295_p954411366378"></a></p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p3545203673716"><a name="admin_guide_000295_p3545203673716"></a><a name="admin_guide_000295_p3545203673716"></a>操作前确认该操作的必要性，操作时确保同一时间无其它管理维护操作。</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p65457360377"><a name="admin_guide_000295_p65457360377"></a><a name="admin_guide_000295_p65457360377"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row1254583617375"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p12545113643715"><a name="admin_guide_000295_p12545113643715"></a><a name="admin_guide_000295_p12545113643715"></a>修改DBService浮动IP配置</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p054533623719"><a name="admin_guide_000295_p054533623719"></a><a name="admin_guide_000295_p054533623719"></a>需要重启DBService服务使配置生效，服务在重启无法访问。</p>
<p id="admin_guide_000295_p6545636183718"><a name="admin_guide_000295_p6545636183718"></a><a name="admin_guide_000295_p6545636183718"></a>如果浮动IP已被使用过，将会导致配置失败，DBService启动失败。</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p554503611378"><a name="admin_guide_000295_p554503611378"></a><a name="admin_guide_000295_p554503611378"></a>★★★★</p>
<p id="admin_guide_000295_p754618362372"><a name="admin_guide_000295_p754618362372"></a><a name="admin_guide_000295_p754618362372"></a></p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p105464362375"><a name="admin_guide_000295_p105464362375"></a><a name="admin_guide_000295_p105464362375"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效。</p>
<p id="admin_guide_000295_p4546163673712"><a name="admin_guide_000295_p4546163673712"></a><a name="admin_guide_000295_p4546163673712"></a></p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p154643617376"><a name="admin_guide_000295_p154643617376"></a><a name="admin_guide_000295_p154643617376"></a>观察服务能否正常启动</p>
</td>
</tr>
</tbody>
</table>

## Flink高危操作<a name="admin_guide_000295_section13641165920377"></a>

**表 6**  Flink高危操作

<a name="admin_guide_000295_table464155963710"></a>
<table><thead align="left"><tr id="admin_guide_000295_row2064245923713"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p5642115918372"><a name="admin_guide_000295_p5642115918372"></a><a name="admin_guide_000295_p5642115918372"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p12643165933717"><a name="admin_guide_000295_p12643165933717"></a><a name="admin_guide_000295_p12643165933717"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p3643165933710"><a name="admin_guide_000295_p3643165933710"></a><a name="admin_guide_000295_p3643165933710"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p176432059193716"><a name="admin_guide_000295_p176432059193716"></a><a name="admin_guide_000295_p176432059193716"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p136431759193715"><a name="admin_guide_000295_p136431759193715"></a><a name="admin_guide_000295_p136431759193715"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row12643125916379"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p3644859183717"><a name="admin_guide_000295_p3644859183717"></a><a name="admin_guide_000295_p3644859183717"></a>修改日志级别</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p16644259103718"><a name="admin_guide_000295_p16644259103718"></a><a name="admin_guide_000295_p16644259103718"></a>如果修改为DEBUG，会影响任务运行性能</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p564435993716"><a name="admin_guide_000295_p564435993716"></a><a name="admin_guide_000295_p564435993716"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p16644125916379"><a name="admin_guide_000295_p16644125916379"></a><a name="admin_guide_000295_p16644125916379"></a>修改前确认操作的必要性，并及时修改回默认设定</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p664515915378"><a name="admin_guide_000295_p664515915378"></a><a name="admin_guide_000295_p664515915378"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row864545918379"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p5645105911376"><a name="admin_guide_000295_p5645105911376"></a><a name="admin_guide_000295_p5645105911376"></a>修改文件权限</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p17645185910373"><a name="admin_guide_000295_p17645185910373"></a><a name="admin_guide_000295_p17645185910373"></a>该操作可能导致任务运行失败</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p11645135913718"><a name="admin_guide_000295_p11645135913718"></a><a name="admin_guide_000295_p11645135913718"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p764555933710"><a name="admin_guide_000295_p764555933710"></a><a name="admin_guide_000295_p764555933710"></a>修改前确认操作的必要性</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p14646859173715"><a name="admin_guide_000295_p14646859173715"></a><a name="admin_guide_000295_p14646859173715"></a>观察相关业务操作是否正常</p>
</td>
</tr>
</tbody>
</table>

## Flume高危操作<a name="admin_guide_000295_section83522618299"></a>

**表 7**  Flume高危操作

<a name="admin_guide_000295_table635216642915"></a>
<table><thead align="left"><tr id="admin_guide_000295_row163526619297"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p173531865297"><a name="admin_guide_000295_p173531865297"></a><a name="admin_guide_000295_p173531865297"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p3353196162910"><a name="admin_guide_000295_p3353196162910"></a><a name="admin_guide_000295_p3353196162910"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p173533619293"><a name="admin_guide_000295_p173533619293"></a><a name="admin_guide_000295_p173533619293"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p1735311614292"><a name="admin_guide_000295_p1735311614292"></a><a name="admin_guide_000295_p1735311614292"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p1635306142920"><a name="admin_guide_000295_p1635306142920"></a><a name="admin_guide_000295_p1635306142920"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row335311662912"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1935319672919"><a name="admin_guide_000295_p1935319672919"></a><a name="admin_guide_000295_p1935319672919"></a>修改Flume实例的启动参数GC_OPTS</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1035316112919"><a name="admin_guide_000295_p1035316112919"></a><a name="admin_guide_000295_p1035316112919"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p83531467298"><a name="admin_guide_000295_p83531467298"></a><a name="admin_guide_000295_p83531467298"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p3354136152918"><a name="admin_guide_000295_p3354136152918"></a><a name="admin_guide_000295_p3354136152918"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1035411662916"><a name="admin_guide_000295_p1035411662916"></a><a name="admin_guide_000295_p1035411662916"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row123545642917"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1535412610290"><a name="admin_guide_000295_p1535412610290"></a><a name="admin_guide_000295_p1535412610290"></a>修改HDFS的副本数目dfs.replication，将默认值由3改为1</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1835410652917"><a name="admin_guide_000295_p1835410652917"></a><a name="admin_guide_000295_p1835410652917"></a>导致：</p>
<a name="admin_guide_000295_ol13354661290"></a><a name="admin_guide_000295_ol13354661290"></a><ol id="admin_guide_000295_ol13354661290"><li>存储可靠性下降，磁盘故障时，会发生数据丢失</li><li>NameNode重启失败，HDFS服务不可用</li></ol>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p11355156172920"><a name="admin_guide_000295_p11355156172920"></a><a name="admin_guide_000295_p11355156172920"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p14355967296"><a name="admin_guide_000295_p14355967296"></a><a name="admin_guide_000295_p14355967296"></a>修改相关配置项时，请仔细查看参数说明。保证数据存储的副本数不低于2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p15355126142914"><a name="admin_guide_000295_p15355126142914"></a><a name="admin_guide_000295_p15355126142914"></a>观察默认的副本值是否不为1，HDFS服务是否可以正常提供服务</p>
</td>
</tr>
</tbody>
</table>

## HBase高危操作<a name="admin_guide_000295_section14591161314544"></a>

**表 8**  HBase高危操作

<a name="admin_guide_000295_table170716395548"></a>
<table><thead align="left"><tr id="admin_guide_000295_row2708153916542"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p9708133935412"><a name="admin_guide_000295_p9708133935412"></a><a name="admin_guide_000295_p9708133935412"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p570883914549"><a name="admin_guide_000295_p570883914549"></a><a name="admin_guide_000295_p570883914549"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p3708539165411"><a name="admin_guide_000295_p3708539165411"></a><a name="admin_guide_000295_p3708539165411"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p167089396544"><a name="admin_guide_000295_p167089396544"></a><a name="admin_guide_000295_p167089396544"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p5708183945419"><a name="admin_guide_000295_p5708183945419"></a><a name="admin_guide_000295_p5708183945419"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row1170810392542"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p6708139135414"><a name="admin_guide_000295_p6708139135414"></a><a name="admin_guide_000295_p6708139135414"></a>修改加密的相关配置项</p>
<a name="admin_guide_000295_ul570803975415"></a><a name="admin_guide_000295_ul570803975415"></a><ul id="admin_guide_000295_ul570803975415"><li>hbase.regionserver.wal.encryption</li><li>hbase.crypto.keyprovider.parameters.uri</li><li>hbase.crypto.keyprovider.parameters.encryptedtext</li></ul>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p97081439115416"><a name="admin_guide_000295_p97081439115416"></a><a name="admin_guide_000295_p97081439115416"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1170813925418"><a name="admin_guide_000295_p1170813925418"></a><a name="admin_guide_000295_p1170813925418"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p12708193912546"><a name="admin_guide_000295_p12708193912546"></a><a name="admin_guide_000295_p12708193912546"></a>修改相关配置项时请严格按照提示描述，加密相关配置项是有关联的，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p107081639115420"><a name="admin_guide_000295_p107081639115420"></a><a name="admin_guide_000295_p107081639115420"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row12708739115419"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p20708639155419"><a name="admin_guide_000295_p20708639155419"></a><a name="admin_guide_000295_p20708639155419"></a>已使用加密的情况下关闭或者切换加密算法，关闭主要指修改hbase.regionserver.wal.encryption为false，切换主要指AES和SMS4的切换</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p870823975411"><a name="admin_guide_000295_p870823975411"></a><a name="admin_guide_000295_p870823975411"></a>导致服务启动失败，数据丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p187083391543"><a name="admin_guide_000295_p187083391543"></a><a name="admin_guide_000295_p187083391543"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1970813913543"><a name="admin_guide_000295_p1970813913543"></a><a name="admin_guide_000295_p1970813913543"></a>加密HFile和WAL内容的时候，如果已经使用一种加密算法加密并且已经建表，请不要随意关闭或者切换加密算法。</p>
<p id="admin_guide_000295_p15708183945417"><a name="admin_guide_000295_p15708183945417"></a><a name="admin_guide_000295_p15708183945417"></a>未建加密表（ENCRYPTION=&gt;AES/SMS4）的情况下可以切换，否则禁止操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p87081439105416"><a name="admin_guide_000295_p87081439105416"></a><a name="admin_guide_000295_p87081439105416"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row670863911541"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p17708239145418"><a name="admin_guide_000295_p17708239145418"></a><a name="admin_guide_000295_p17708239145418"></a>修改HBase实例的启动参数GC_OPTS、HBASE_HEAPSIZE</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1708939195415"><a name="admin_guide_000295_p1708939195415"></a><a name="admin_guide_000295_p1708939195415"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1370893914541"><a name="admin_guide_000295_p1370893914541"></a><a name="admin_guide_000295_p1370893914541"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1270833915419"><a name="admin_guide_000295_p1270833915419"></a><a name="admin_guide_000295_p1270833915419"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效，且GC_OPTS与HBASE_HEAPSIZE参数值无冲突</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p27081392545"><a name="admin_guide_000295_p27081392545"></a><a name="admin_guide_000295_p27081392545"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row117085392542"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1470812398547"><a name="admin_guide_000295_p1470812398547"></a><a name="admin_guide_000295_p1470812398547"></a>使用OfflineMetaRepair工具</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p37081639105413"><a name="admin_guide_000295_p37081639105413"></a><a name="admin_guide_000295_p37081639105413"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p37085399546"><a name="admin_guide_000295_p37085399546"></a><a name="admin_guide_000295_p37085399546"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p170813392548"><a name="admin_guide_000295_p170813392548"></a><a name="admin_guide_000295_p170813392548"></a>必须在HBase下线的情况下才可以使用该命令，而且不能在数据迁移的场景中使用该命令</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1070823914546"><a name="admin_guide_000295_p1070823914546"></a><a name="admin_guide_000295_p1070823914546"></a>观察HBase服务是否可以正常启动。</p>
</td>
</tr>
</tbody>
</table>

## HDFS高危操作<a name="admin_guide_000295_section620815317267"></a>

**表 9**  HDFS高危操作

<a name="admin_guide_000295_table720935314265"></a>
<table><thead align="left"><tr id="admin_guide_000295_row15209853162620"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p1020985392616"><a name="admin_guide_000295_p1020985392616"></a><a name="admin_guide_000295_p1020985392616"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p3209153162616"><a name="admin_guide_000295_p3209153162616"></a><a name="admin_guide_000295_p3209153162616"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p6210125342616"><a name="admin_guide_000295_p6210125342616"></a><a name="admin_guide_000295_p6210125342616"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p1321016539261"><a name="admin_guide_000295_p1321016539261"></a><a name="admin_guide_000295_p1321016539261"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p62101153132615"><a name="admin_guide_000295_p62101153132615"></a><a name="admin_guide_000295_p62101153132615"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row6210155319264"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1821013539269"><a name="admin_guide_000295_p1821013539269"></a><a name="admin_guide_000295_p1821013539269"></a>修改HDFS的NameNode的数据存储目录dfs.namenode.name.dir、DataNode的数据配置目录dfs.datanode.data.dir</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p521010533264"><a name="admin_guide_000295_p521010533264"></a><a name="admin_guide_000295_p521010533264"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p221065316263"><a name="admin_guide_000295_p221065316263"></a><a name="admin_guide_000295_p221065316263"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p2021025322615"><a name="admin_guide_000295_p2021025322615"></a><a name="admin_guide_000295_p2021025322615"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p10210353182612"><a name="admin_guide_000295_p10210353182612"></a><a name="admin_guide_000295_p10210353182612"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row42109539265"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p921015313263"><a name="admin_guide_000295_p921015313263"></a><a name="admin_guide_000295_p921015313263"></a>执行<strong id="admin_guide_000295_b15211353112618"><a name="admin_guide_000295_b15211353112618"></a><a name="admin_guide_000295_b15211353112618"></a>hadoop distcp</strong>命令时，使用<strong id="admin_guide_000295_b152119534268"><a name="admin_guide_000295_b152119534268"></a><a name="admin_guide_000295_b152119534268"></a>-delete</strong>参数</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p152111253132612"><a name="admin_guide_000295_p152111253132612"></a><a name="admin_guide_000295_p152111253132612"></a>Distcp拷贝时，源集群没有而目的集群存在的文件，会在目的集群删除</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p621125316263"><a name="admin_guide_000295_p621125316263"></a><a name="admin_guide_000295_p621125316263"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p152111653142617"><a name="admin_guide_000295_p152111653142617"></a><a name="admin_guide_000295_p152111653142617"></a>在使用Distcp的时候，确保是否保留目的集群多余的文件，谨慎使用<strong id="admin_guide_000295_b32111753102611"><a name="admin_guide_000295_b32111753102611"></a><a name="admin_guide_000295_b32111753102611"></a>-delete</strong>参数</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1321125322619"><a name="admin_guide_000295_p1321125322619"></a><a name="admin_guide_000295_p1321125322619"></a>Distcp数据拷贝后，查看目的的数据是否按照参数配置保留或删除</p>
</td>
</tr>
<tr id="admin_guide_000295_row1821145312611"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p521119538266"><a name="admin_guide_000295_p521119538266"></a><a name="admin_guide_000295_p521119538266"></a>修改HDFS实例的启动参数GC_OPTS、HADOOP_HEAPSIZE和GC_PROFILE</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p221155315267"><a name="admin_guide_000295_p221155315267"></a><a name="admin_guide_000295_p221155315267"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1212353152610"><a name="admin_guide_000295_p1212353152610"></a><a name="admin_guide_000295_p1212353152610"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1721213531266"><a name="admin_guide_000295_p1721213531266"></a><a name="admin_guide_000295_p1721213531266"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效，且GC_OPTS与HADOOP_HEAPSIZE参数值无冲突</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p142122537268"><a name="admin_guide_000295_p142122537268"></a><a name="admin_guide_000295_p142122537268"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row021295382612"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p5212453152612"><a name="admin_guide_000295_p5212453152612"></a><a name="admin_guide_000295_p5212453152612"></a>修改HDFS的副本数目dfs.replication，将默认值由3改为1</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p5212165362617"><a name="admin_guide_000295_p5212165362617"></a><a name="admin_guide_000295_p5212165362617"></a>导致：</p>
<a name="admin_guide_000295_ol1321211537267"></a><a name="admin_guide_000295_ol1321211537267"></a><ol id="admin_guide_000295_ol1321211537267"><li>存储可靠性下降，磁盘故障时，会发生数据丢失</li><li>NameNode重启失败，HDFS服务不可用</li></ol>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p12212105310261"><a name="admin_guide_000295_p12212105310261"></a><a name="admin_guide_000295_p12212105310261"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1621214534263"><a name="admin_guide_000295_p1621214534263"></a><a name="admin_guide_000295_p1621214534263"></a>修改相关配置项时，请仔细查看参数说明。保证数据存储的副本数不低于2</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p221385312263"><a name="admin_guide_000295_p221385312263"></a><a name="admin_guide_000295_p221385312263"></a>观察默认的副本值是否不为1，HDFS服务是否可以正常提供服务</p>
</td>
</tr>
<tr id="admin_guide_000295_row721316539261"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1921375352616"><a name="admin_guide_000295_p1921375352616"></a><a name="admin_guide_000295_p1921375352616"></a>修改Hadoop中各模块的RPC通道的加密方式hadoop.rpc.protection</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p2213115332611"><a name="admin_guide_000295_p2213115332611"></a><a name="admin_guide_000295_p2213115332611"></a>导致服务故障及业务异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p721365310265"><a name="admin_guide_000295_p721365310265"></a><a name="admin_guide_000295_p721365310265"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p821365319266"><a name="admin_guide_000295_p821365319266"></a><a name="admin_guide_000295_p821365319266"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p112135533263"><a name="admin_guide_000295_p112135533263"></a><a name="admin_guide_000295_p112135533263"></a>观察HDFS及其他依赖HDFS的服务能否正常启动，并提供服务</p>
</td>
</tr>
</tbody>
</table>

## Hive高危操作<a name="admin_guide_000295_section158721006321"></a>

**表 10**  Hive高危操作

<a name="admin_guide_000295_table3872202323"></a>
<table><thead align="left"><tr id="admin_guide_000295_row15873110153210"><th class="cellrowborder" valign="top" width="15.1%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p10873130173214"><a name="admin_guide_000295_p10873130173214"></a><a name="admin_guide_000295_p10873130173214"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="32.9%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p08731033220"><a name="admin_guide_000295_p08731033220"></a><a name="admin_guide_000295_p08731033220"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p158741803327"><a name="admin_guide_000295_p158741803327"></a><a name="admin_guide_000295_p158741803327"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p1487417043211"><a name="admin_guide_000295_p1487417043211"></a><a name="admin_guide_000295_p1487417043211"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p687419018323"><a name="admin_guide_000295_p687419018323"></a><a name="admin_guide_000295_p687419018323"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row16874190183213"><td class="cellrowborder" valign="top" width="15.1%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p13874308323"><a name="admin_guide_000295_p13874308323"></a><a name="admin_guide_000295_p13874308323"></a>修改Hive实例的启动参数GC_OPTS</p>
</td>
<td class="cellrowborder" valign="top" width="32.9%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p7874505324"><a name="admin_guide_000295_p7874505324"></a><a name="admin_guide_000295_p7874505324"></a>修改该参数可能会导致Hive实例无法启动</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p18875409326"><a name="admin_guide_000295_p18875409326"></a><a name="admin_guide_000295_p18875409326"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1187516013212"><a name="admin_guide_000295_p1187516013212"></a><a name="admin_guide_000295_p1187516013212"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p28751308324"><a name="admin_guide_000295_p28751308324"></a><a name="admin_guide_000295_p28751308324"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row18754014324"><td class="cellrowborder" valign="top" width="15.1%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p0875120143210"><a name="admin_guide_000295_p0875120143210"></a><a name="admin_guide_000295_p0875120143210"></a>删除MetaStore所有实例</p>
</td>
<td class="cellrowborder" valign="top" width="32.9%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p168759043218"><a name="admin_guide_000295_p168759043218"></a><a name="admin_guide_000295_p168759043218"></a>Hive元数据丢失，Hive无法提供服务</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1887540173217"><a name="admin_guide_000295_p1887540173217"></a><a name="admin_guide_000295_p1887540173217"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p188755015328"><a name="admin_guide_000295_p188755015328"></a><a name="admin_guide_000295_p188755015328"></a>除非确定丢弃Hive所有表信息，否则不要执行该操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p48758033215"><a name="admin_guide_000295_p48758033215"></a><a name="admin_guide_000295_p48758033215"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row1987615018325"><td class="cellrowborder" valign="top" width="15.1%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p15876401323"><a name="admin_guide_000295_p15876401323"></a><a name="admin_guide_000295_p15876401323"></a>使用HDFS文件系统接口或者HBase接口删除或修改Hive表对应的文件</p>
</td>
<td class="cellrowborder" valign="top" width="32.9%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p487618019328"><a name="admin_guide_000295_p487618019328"></a><a name="admin_guide_000295_p487618019328"></a>该操作会导致Hive业务数据丢失或被篡改</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p287660173212"><a name="admin_guide_000295_p287660173212"></a><a name="admin_guide_000295_p287660173212"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p2876170163217"><a name="admin_guide_000295_p2876170163217"></a><a name="admin_guide_000295_p2876170163217"></a>除非确定丢弃这些数据，或者确保该修改操作符合业务需求，否则不要执行该操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p138769093210"><a name="admin_guide_000295_p138769093210"></a><a name="admin_guide_000295_p138769093210"></a>观察Hive数据是否完整</p>
</td>
</tr>
<tr id="admin_guide_000295_row1987670123220"><td class="cellrowborder" valign="top" width="15.1%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p38761609321"><a name="admin_guide_000295_p38761609321"></a><a name="admin_guide_000295_p38761609321"></a>使用HDFS文件系统接口或者HBase接口修改Hive表对应的文件或目录访问权限</p>
</td>
<td class="cellrowborder" valign="top" width="32.9%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p487613016327"><a name="admin_guide_000295_p487613016327"></a><a name="admin_guide_000295_p487613016327"></a>该操作可能会导致相关业务场景不可用</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1987710113216"><a name="admin_guide_000295_p1987710113216"></a><a name="admin_guide_000295_p1987710113216"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1087750153216"><a name="admin_guide_000295_p1087750153216"></a><a name="admin_guide_000295_p1087750153216"></a>请勿执行该操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1487716017326"><a name="admin_guide_000295_p1487716017326"></a><a name="admin_guide_000295_p1487716017326"></a>观察相关业务操作是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row187715018323"><td class="cellrowborder" valign="top" width="15.1%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p168772014322"><a name="admin_guide_000295_p168772014322"></a><a name="admin_guide_000295_p168772014322"></a>使用HDFS文件系统接口删除或修改文件hdfs:///apps/templeton/hive-3.1.0.tar.gz</p>
</td>
<td class="cellrowborder" valign="top" width="32.9%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p208771606323"><a name="admin_guide_000295_p208771606323"></a><a name="admin_guide_000295_p208771606323"></a>该操作可能会导致WebHCat无法正常执行业务</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p787715043218"><a name="admin_guide_000295_p787715043218"></a><a name="admin_guide_000295_p787715043218"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1687710017327"><a name="admin_guide_000295_p1687710017327"></a><a name="admin_guide_000295_p1687710017327"></a>请勿执行该操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1387880133217"><a name="admin_guide_000295_p1387880133217"></a><a name="admin_guide_000295_p1387880133217"></a>观察相关业务操作是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row8878900326"><td class="cellrowborder" valign="top" width="15.1%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p18878200324"><a name="admin_guide_000295_p18878200324"></a><a name="admin_guide_000295_p18878200324"></a>导出表数据覆盖写入本地目录，例如将<strong id="admin_guide_000295_b98787013216"><a name="admin_guide_000295_b98787013216"></a><a name="admin_guide_000295_b98787013216"></a>t1</strong>表中数据导出，覆盖到“/opt/dir”路径下：</p>
<p id="admin_guide_000295_p108783023217"><a name="admin_guide_000295_p108783023217"></a><a name="admin_guide_000295_p108783023217"></a><strong id="admin_guide_000295_b38782019321"><a name="admin_guide_000295_b38782019321"></a><a name="admin_guide_000295_b38782019321"></a>insert overwrite local directory '/opt/dir' select * from t1;</strong></p>
</td>
<td class="cellrowborder" valign="top" width="32.9%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p787815013322"><a name="admin_guide_000295_p787815013322"></a><a name="admin_guide_000295_p787815013322"></a>该操作会删除目标目录，如果设置错误，会导致软件或者操作系统无法启动</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1887815011328"><a name="admin_guide_000295_p1887815011328"></a><a name="admin_guide_000295_p1887815011328"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p187840163211"><a name="admin_guide_000295_p187840163211"></a><a name="admin_guide_000295_p187840163211"></a>确认需要写入的路径下不要包含任何文件；或者不要使用overwrite关键字</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p087912063216"><a name="admin_guide_000295_p087912063216"></a><a name="admin_guide_000295_p087912063216"></a>观察目标路径是否有文件丢失</p>
</td>
</tr>
<tr id="admin_guide_000295_row4879180203216"><td class="cellrowborder" valign="top" width="15.1%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p287916011329"><a name="admin_guide_000295_p287916011329"></a><a name="admin_guide_000295_p287916011329"></a>将不同的数据库、表或分区文件指定至相同路径，例如默认仓库路径<span class="filepath" id="admin_guide_000295_filepath14879110203218"><a name="admin_guide_000295_filepath14879110203218"></a><a name="admin_guide_000295_filepath14879110203218"></a>“/user/hive/warehouse”</span>。</p>
</td>
<td class="cellrowborder" valign="top" width="32.9%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1387940113214"><a name="admin_guide_000295_p1387940113214"></a><a name="admin_guide_000295_p1387940113214"></a>执行创建操作后数据可能会紊乱，如果删除其中一个数据库、表或分区，会导致其他对象数据丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p587915016329"><a name="admin_guide_000295_p587915016329"></a><a name="admin_guide_000295_p587915016329"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p0879909326"><a name="admin_guide_000295_p0879909326"></a><a name="admin_guide_000295_p0879909326"></a>请勿执行该操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p12879100153219"><a name="admin_guide_000295_p12879100153219"></a><a name="admin_guide_000295_p12879100153219"></a>观察目标路径是否有文件丢失</p>
</td>
</tr>
</tbody>
</table>

## Kafka高危操作<a name="admin_guide_000295_section16548512133116"></a>

**表 11**  Kafka高危操作

<a name="admin_guide_000295_table12549181213112"></a>
<table><thead align="left"><tr id="admin_guide_000295_row755771219316"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p1555721253115"><a name="admin_guide_000295_p1555721253115"></a><a name="admin_guide_000295_p1555721253115"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p2557512163115"><a name="admin_guide_000295_p2557512163115"></a><a name="admin_guide_000295_p2557512163115"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p1755701293112"><a name="admin_guide_000295_p1755701293112"></a><a name="admin_guide_000295_p1755701293112"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p1555821211311"><a name="admin_guide_000295_p1555821211311"></a><a name="admin_guide_000295_p1555821211311"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p14558131216319"><a name="admin_guide_000295_p14558131216319"></a><a name="admin_guide_000295_p14558131216319"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row555891212312"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p11558131283113"><a name="admin_guide_000295_p11558131283113"></a><a name="admin_guide_000295_p11558131283113"></a>删除Topic</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p14558912183116"><a name="admin_guide_000295_p14558912183116"></a><a name="admin_guide_000295_p14558912183116"></a>该操作将会删除已有的主题和数据</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p455811128312"><a name="admin_guide_000295_p455811128312"></a><a name="admin_guide_000295_p455811128312"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p175581112113116"><a name="admin_guide_000295_p175581112113116"></a><a name="admin_guide_000295_p175581112113116"></a>采用Kerberos认证，保证合法用户具有操作权限，并确保主题名称正确</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p855818126318"><a name="admin_guide_000295_p855818126318"></a><a name="admin_guide_000295_p855818126318"></a>观察主题是否正常处理</p>
</td>
</tr>
<tr id="admin_guide_000295_row19559171213117"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p355951223115"><a name="admin_guide_000295_p355951223115"></a><a name="admin_guide_000295_p355951223115"></a>删除数据目录</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p15559712143114"><a name="admin_guide_000295_p15559712143114"></a><a name="admin_guide_000295_p15559712143114"></a>该操作将会导致业务信息丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p555931211317"><a name="admin_guide_000295_p555931211317"></a><a name="admin_guide_000295_p555931211317"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p4559191213113"><a name="admin_guide_000295_p4559191213113"></a><a name="admin_guide_000295_p4559191213113"></a>请勿手动删除数据目录</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p16559161233113"><a name="admin_guide_000295_p16559161233113"></a><a name="admin_guide_000295_p16559161233113"></a>观察数据目录是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row1755931217319"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p6559161213319"><a name="admin_guide_000295_p6559161213319"></a><a name="admin_guide_000295_p6559161213319"></a>修改数据目录下内容（创建文件、文件夹）</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1755901219316"><a name="admin_guide_000295_p1755901219316"></a><a name="admin_guide_000295_p1755901219316"></a>该操作将会导致该节点上的Broker实例故障</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1056015129319"><a name="admin_guide_000295_p1056015129319"></a><a name="admin_guide_000295_p1056015129319"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p125606126311"><a name="admin_guide_000295_p125606126311"></a><a name="admin_guide_000295_p125606126311"></a>请勿手动在数据目录下创建或修改文件及文件夹</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1956041215315"><a name="admin_guide_000295_p1956041215315"></a><a name="admin_guide_000295_p1956041215315"></a>观察数据目录是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row17560181220315"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p13560712183119"><a name="admin_guide_000295_p13560712183119"></a><a name="admin_guide_000295_p13560712183119"></a>修改磁盘自适应功能“disk.adapter.enable”参数</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p15560812133115"><a name="admin_guide_000295_p15560812133115"></a><a name="admin_guide_000295_p15560812133115"></a>该操作会在磁盘使用空间达到阈值时调整Topic数据保存周期，超出保存周期的历史数据可能被清除</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p35601123316"><a name="admin_guide_000295_p35601123316"></a><a name="admin_guide_000295_p35601123316"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p10560101217315"><a name="admin_guide_000295_p10560101217315"></a><a name="admin_guide_000295_p10560101217315"></a>若个别Topic不能做保存周期调整，将该Topic配置在“disk.adapter.topic.blacklist”参数中</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p12561121210316"><a name="admin_guide_000295_p12561121210316"></a><a name="admin_guide_000295_p12561121210316"></a>在KafkaTopic监控页面观察数据的存储周期</p>
</td>
</tr>
<tr id="admin_guide_000295_row9561312103112"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p45610129312"><a name="admin_guide_000295_p45610129312"></a><a name="admin_guide_000295_p45610129312"></a>修改数据目录“log.dirs”配置</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p13561112143116"><a name="admin_guide_000295_p13561112143116"></a><a name="admin_guide_000295_p13561112143116"></a>该配置不正确将会导致进程故障</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p2561201212317"><a name="admin_guide_000295_p2561201212317"></a><a name="admin_guide_000295_p2561201212317"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p14561712103116"><a name="admin_guide_000295_p14561712103116"></a><a name="admin_guide_000295_p14561712103116"></a>确保所修改或者添加的数据目录为空目录，且权限正确</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p11561141210311"><a name="admin_guide_000295_p11561141210311"></a><a name="admin_guide_000295_p11561141210311"></a>观察数据目录是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row7562121253117"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1856212124315"><a name="admin_guide_000295_p1856212124315"></a><a name="admin_guide_000295_p1856212124315"></a>减容Kafka集群</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p10562161216311"><a name="admin_guide_000295_p10562161216311"></a><a name="admin_guide_000295_p10562161216311"></a>该操作将会导致部分Topic数据副本数量减少，可能会导致Topic无法访问</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p11562312203120"><a name="admin_guide_000295_p11562312203120"></a><a name="admin_guide_000295_p11562312203120"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p175621712113110"><a name="admin_guide_000295_p175621712113110"></a><a name="admin_guide_000295_p175621712113110"></a>请先做好数据副本转移工作，然后再进行减容操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1256217129315"><a name="admin_guide_000295_p1256217129315"></a><a name="admin_guide_000295_p1256217129315"></a>观察分区所在备份节点是否都存活，确保数据安全</p>
</td>
</tr>
<tr id="admin_guide_000295_row10562161211312"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p11562161216314"><a name="admin_guide_000295_p11562161216314"></a><a name="admin_guide_000295_p11562161216314"></a>单独启停基础组件</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p175631212183113"><a name="admin_guide_000295_p175631212183113"></a><a name="admin_guide_000295_p175631212183113"></a>该操作将会影响服务的一些基础功能导致业务失败</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p256351233114"><a name="admin_guide_000295_p256351233114"></a><a name="admin_guide_000295_p256351233114"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p16563131219313"><a name="admin_guide_000295_p16563131219313"></a><a name="admin_guide_000295_p16563131219313"></a>请勿单独启停ZooKeeper/Kerberos/LDAP等基础组件，启停基础组件请勾选关联服务</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p175630120317"><a name="admin_guide_000295_p175630120317"></a><a name="admin_guide_000295_p175630120317"></a>观察服务状态是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row1356314127318"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p195631812133112"><a name="admin_guide_000295_p195631812133112"></a><a name="admin_guide_000295_p195631812133112"></a>重启/停止服务</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1256351213313"><a name="admin_guide_000295_p1256351213313"></a><a name="admin_guide_000295_p1256351213313"></a>该操作将会导致业务中断</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p13563141210313"><a name="admin_guide_000295_p13563141210313"></a><a name="admin_guide_000295_p13563141210313"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1856410126318"><a name="admin_guide_000295_p1856410126318"></a><a name="admin_guide_000295_p1856410126318"></a>确保在必要时重启/停止服务</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p105641412193114"><a name="admin_guide_000295_p105641412193114"></a><a name="admin_guide_000295_p105641412193114"></a>观察服务是否运行正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row1564171233113"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p356414127312"><a name="admin_guide_000295_p356414127312"></a><a name="admin_guide_000295_p356414127312"></a>修改配置参数</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1564121263112"><a name="admin_guide_000295_p1564121263112"></a><a name="admin_guide_000295_p1564121263112"></a>该操作将需要重启服务使得配置生效</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p20564812103110"><a name="admin_guide_000295_p20564812103110"></a><a name="admin_guide_000295_p20564812103110"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p195648128319"><a name="admin_guide_000295_p195648128319"></a><a name="admin_guide_000295_p195648128319"></a>确保在必要时修改配置</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p10564101210312"><a name="admin_guide_000295_p10564101210312"></a><a name="admin_guide_000295_p10564101210312"></a>观察服务是否运行正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row1156531213310"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p256551211310"><a name="admin_guide_000295_p256551211310"></a><a name="admin_guide_000295_p256551211310"></a>删除/修改元数据</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p13565912113118"><a name="admin_guide_000295_p13565912113118"></a><a name="admin_guide_000295_p13565912113118"></a>修改或者删除ZooKeeper上Kafka的元数据可能导致Topic或者Kafka服务不可用</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p456519125317"><a name="admin_guide_000295_p456519125317"></a><a name="admin_guide_000295_p456519125317"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1056517127316"><a name="admin_guide_000295_p1056517127316"></a><a name="admin_guide_000295_p1056517127316"></a>请勿删除或者修改Kafka在ZooKeeper上保存的元数据信息</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p17565312153118"><a name="admin_guide_000295_p17565312153118"></a><a name="admin_guide_000295_p17565312153118"></a>观察Topic或者Kafka服务是否可用</p>
</td>
</tr>
<tr id="admin_guide_000295_row35656125310"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p17565131273113"><a name="admin_guide_000295_p17565131273113"></a><a name="admin_guide_000295_p17565131273113"></a>修改元数据备份文件</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1256601223116"><a name="admin_guide_000295_p1256601223116"></a><a name="admin_guide_000295_p1256601223116"></a>修改Kafka元数据备份文件，并被使用进行Kafka元数据恢复成功后，可能导致Topic或者Kafka服务不可用</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p556611214313"><a name="admin_guide_000295_p556611214313"></a><a name="admin_guide_000295_p556611214313"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p11566181213312"><a name="admin_guide_000295_p11566181213312"></a><a name="admin_guide_000295_p11566181213312"></a>请勿修改Kafka元数据备份文件</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p20566912183118"><a name="admin_guide_000295_p20566912183118"></a><a name="admin_guide_000295_p20566912183118"></a>观察Topic或者Kafka服务是否可用</p>
</td>
</tr>
</tbody>
</table>

## KrbServer高危操作<a name="admin_guide_000295_section986810310338"></a>

**表 12**  KrbServer高危操作

<a name="admin_guide_000295_table1986818317333"></a>
<table><thead align="left"><tr id="admin_guide_000295_row198691736332"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p78696310339"><a name="admin_guide_000295_p78696310339"></a><a name="admin_guide_000295_p78696310339"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p48691238339"><a name="admin_guide_000295_p48691238339"></a><a name="admin_guide_000295_p48691238339"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p48698313338"><a name="admin_guide_000295_p48698313338"></a><a name="admin_guide_000295_p48698313338"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p1387017333319"><a name="admin_guide_000295_p1387017333319"></a><a name="admin_guide_000295_p1387017333319"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p1287019373312"><a name="admin_guide_000295_p1287019373312"></a><a name="admin_guide_000295_p1287019373312"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row88701393318"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p487010313333"><a name="admin_guide_000295_p487010313333"></a><a name="admin_guide_000295_p487010313333"></a>修改KrbServer的参数KADMIN_PORT</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p88700319338"><a name="admin_guide_000295_p88700319338"></a><a name="admin_guide_000295_p88700319338"></a>修改该参数后，若没有及时重启KrbServer服务和其关联的所有服务，会导致集群内部KrbClient的配置参数异常，影响业务运行</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p6871832332"><a name="admin_guide_000295_p6871832332"></a><a name="admin_guide_000295_p6871832332"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p48711031336"><a name="admin_guide_000295_p48711031336"></a><a name="admin_guide_000295_p48711031336"></a>修改该参数后，请重启KrbServer服务和其关联的所有服务</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p10871036337"><a name="admin_guide_000295_p10871036337"></a><a name="admin_guide_000295_p10871036337"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row1387114383320"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1987110313331"><a name="admin_guide_000295_p1987110313331"></a><a name="admin_guide_000295_p1987110313331"></a>修改KrbServer的参数kdc_ports</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p14872123113313"><a name="admin_guide_000295_p14872123113313"></a><a name="admin_guide_000295_p14872123113313"></a>修改该参数后，若没有及时重启KrbServer服务和其关联的所有服务，会导致集群内部KrbClient的配置参数异常，影响业务运行</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p68739315335"><a name="admin_guide_000295_p68739315335"></a><a name="admin_guide_000295_p68739315335"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1987312316338"><a name="admin_guide_000295_p1987312316338"></a><a name="admin_guide_000295_p1987312316338"></a>修改该参数后，请重启KrbServer服务和其关联的所有服务</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p787312315331"><a name="admin_guide_000295_p787312315331"></a><a name="admin_guide_000295_p787312315331"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row38738315339"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p787319318334"><a name="admin_guide_000295_p787319318334"></a><a name="admin_guide_000295_p787319318334"></a>修改KrbServer的参数KPASSWD_PORT</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p487313314335"><a name="admin_guide_000295_p487313314335"></a><a name="admin_guide_000295_p487313314335"></a>修改该参数后，若没有及时重启KrbServer服务和其关联的所有服务，会导致集群内部KrbClient的配置参数异常，影响业务运行</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1587303163313"><a name="admin_guide_000295_p1587303163313"></a><a name="admin_guide_000295_p1587303163313"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p78744312337"><a name="admin_guide_000295_p78744312337"></a><a name="admin_guide_000295_p78744312337"></a>修改该参数后，请重启KrbServer服务和其关联的所有服务</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p5874438331"><a name="admin_guide_000295_p5874438331"></a><a name="admin_guide_000295_p5874438331"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row887419313314"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p687453103318"><a name="admin_guide_000295_p687453103318"></a><a name="admin_guide_000295_p687453103318"></a>修改Manager系统域名</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p087423183316"><a name="admin_guide_000295_p087423183316"></a><a name="admin_guide_000295_p087423183316"></a>若没有及时重启KrbServer服务和其关联的所有服务，会导致集群内部KrbClient的配置参数异常，影响业务运行</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p6875039331"><a name="admin_guide_000295_p6875039331"></a><a name="admin_guide_000295_p6875039331"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p487512313335"><a name="admin_guide_000295_p487512313335"></a><a name="admin_guide_000295_p487512313335"></a>修改该参数后，请重启KrbServer服务和其关联的所有服务</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p5875836338"><a name="admin_guide_000295_p5875836338"></a><a name="admin_guide_000295_p5875836338"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row178755312337"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1787518315333"><a name="admin_guide_000295_p1787518315333"></a><a name="admin_guide_000295_p1787518315333"></a>配置跨集群互信</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p19875103153315"><a name="admin_guide_000295_p19875103153315"></a><a name="admin_guide_000295_p19875103153315"></a>该操作会重启KrbServer服务和其关联的所有服务，影响集群的管理维护和业务</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p487618320337"><a name="admin_guide_000295_p487618320337"></a><a name="admin_guide_000295_p487618320337"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p187663183313"><a name="admin_guide_000295_p187663183313"></a><a name="admin_guide_000295_p187663183313"></a>更换前确认操作的必要性，更换时确保同一时间无其它管理维护操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1687610313314"><a name="admin_guide_000295_p1687610313314"></a><a name="admin_guide_000295_p1687610313314"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常，业务是否正常</p>
</td>
</tr>
</tbody>
</table>

## LdapServer高危操作<a name="admin_guide_000295_section158441584431"></a>

**表 13**  LdapServer高危操作

<a name="admin_guide_000295_table17844105814435"></a>
<table><thead align="left"><tr id="admin_guide_000295_row584519585439"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p19845105804312"><a name="admin_guide_000295_p19845105804312"></a><a name="admin_guide_000295_p19845105804312"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33.18%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p284516588438"><a name="admin_guide_000295_p284516588438"></a><a name="admin_guide_000295_p284516588438"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="6.819999999999999%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p168451958164316"><a name="admin_guide_000295_p168451958164316"></a><a name="admin_guide_000295_p168451958164316"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p17846758204311"><a name="admin_guide_000295_p17846758204311"></a><a name="admin_guide_000295_p17846758204311"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p1784695854316"><a name="admin_guide_000295_p1784695854316"></a><a name="admin_guide_000295_p1784695854316"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row5846758104310"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p28461585432"><a name="admin_guide_000295_p28461585432"></a><a name="admin_guide_000295_p28461585432"></a>修改LdapServer的参数LDAP_SERVER_PORT</p>
</td>
<td class="cellrowborder" valign="top" width="33.18%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p4846135874319"><a name="admin_guide_000295_p4846135874319"></a><a name="admin_guide_000295_p4846135874319"></a>修改该参数后，若没有及时重启LdapServer服务和其关联的所有服务，会导致集群内部LdapClient的配置参数异常，影响业务运行</p>
</td>
<td class="cellrowborder" valign="top" width="6.819999999999999%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1684610589434"><a name="admin_guide_000295_p1684610589434"></a><a name="admin_guide_000295_p1684610589434"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p08461858184318"><a name="admin_guide_000295_p08461858184318"></a><a name="admin_guide_000295_p08461858184318"></a>修改该参数后，请重启LdapServer服务和其关联的所有服务</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1846175854313"><a name="admin_guide_000295_p1846175854313"></a><a name="admin_guide_000295_p1846175854313"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row15846558114311"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1846258194315"><a name="admin_guide_000295_p1846258194315"></a><a name="admin_guide_000295_p1846258194315"></a>恢复LdapServer数据</p>
</td>
<td class="cellrowborder" valign="top" width="33.18%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p884612582433"><a name="admin_guide_000295_p884612582433"></a><a name="admin_guide_000295_p884612582433"></a>该操作会重启Manager和整个集群，影响集群的管理维护和业务</p>
</td>
<td class="cellrowborder" valign="top" width="6.819999999999999%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p15847155864312"><a name="admin_guide_000295_p15847155864312"></a><a name="admin_guide_000295_p15847155864312"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1847145816438"><a name="admin_guide_000295_p1847145816438"></a><a name="admin_guide_000295_p1847145816438"></a>修改前确认操作的必要性，修改时确保同一时间无其它管理维护操作</p>
<p id="admin_guide_000295_p0847958144311"><a name="admin_guide_000295_p0847958144311"></a><a name="admin_guide_000295_p0847958144311"></a></p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p18471458144315"><a name="admin_guide_000295_p18471458144315"></a><a name="admin_guide_000295_p18471458144315"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常，业务是否正常</p>
<p id="admin_guide_000295_p084712589437"><a name="admin_guide_000295_p084712589437"></a><a name="admin_guide_000295_p084712589437"></a></p>
</td>
</tr>
<tr id="admin_guide_000295_row1984725815437"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p98476582435"><a name="admin_guide_000295_p98476582435"></a><a name="admin_guide_000295_p98476582435"></a>更换LdapServer所在节点</p>
</td>
<td class="cellrowborder" valign="top" width="33.18%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p7847115834311"><a name="admin_guide_000295_p7847115834311"></a><a name="admin_guide_000295_p7847115834311"></a>该操作会导致部署在该节点上的服务中断，且当该节点为管理节点时，更换节点会导致重启OMS各进程，影响集群的管理维护</p>
</td>
<td class="cellrowborder" valign="top" width="6.819999999999999%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p684725817438"><a name="admin_guide_000295_p684725817438"></a><a name="admin_guide_000295_p684725817438"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p6847145810438"><a name="admin_guide_000295_p6847145810438"></a><a name="admin_guide_000295_p6847145810438"></a>更换前确认操作的必要性，更换时确保同一时间无其它管理维护操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p178471658194311"><a name="admin_guide_000295_p178471658194311"></a><a name="admin_guide_000295_p178471658194311"></a>观察是否有未恢复的告警产生，观察集群的管理维护是否正常，业务是否正常</p>
<p id="admin_guide_000295_p4847358154310"><a name="admin_guide_000295_p4847358154310"></a><a name="admin_guide_000295_p4847358154310"></a></p>
</td>
</tr>
<tr id="admin_guide_000295_row2084717582430"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1684765811439"><a name="admin_guide_000295_p1684765811439"></a><a name="admin_guide_000295_p1684765811439"></a>修改LdapServer密码</p>
</td>
<td class="cellrowborder" valign="top" width="33.18%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p0847758194319"><a name="admin_guide_000295_p0847758194319"></a><a name="admin_guide_000295_p0847758194319"></a>修改密码需要重启LdapServer和Kerberos服务，影响集群的管理维护和业务</p>
<p id="admin_guide_000295_p78488582438"><a name="admin_guide_000295_p78488582438"></a><a name="admin_guide_000295_p78488582438"></a></p>
</td>
<td class="cellrowborder" valign="top" width="6.819999999999999%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1384885894313"><a name="admin_guide_000295_p1384885894313"></a><a name="admin_guide_000295_p1384885894313"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p784814585432"><a name="admin_guide_000295_p784814585432"></a><a name="admin_guide_000295_p784814585432"></a>修改前确认操作的必要性，修改时确保同一时间无其它管理维护操作</p>
<p id="admin_guide_000295_p4848125854311"><a name="admin_guide_000295_p4848125854311"></a><a name="admin_guide_000295_p4848125854311"></a></p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p484845817435"><a name="admin_guide_000295_p484845817435"></a><a name="admin_guide_000295_p484845817435"></a>无</p>
</td>
</tr>
<tr id="admin_guide_000295_row1284819582439"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p11848145816432"><a name="admin_guide_000295_p11848145816432"></a><a name="admin_guide_000295_p11848145816432"></a>节点重启导致LdapServer数据损坏</p>
</td>
<td class="cellrowborder" valign="top" width="33.18%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p138481458114315"><a name="admin_guide_000295_p138481458114315"></a><a name="admin_guide_000295_p138481458114315"></a>如果未停止LdapServer服务，直接重启LdapServer所在节点，可能导致LdapServer数据损坏</p>
</td>
<td class="cellrowborder" valign="top" width="6.819999999999999%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p168481958144319"><a name="admin_guide_000295_p168481958144319"></a><a name="admin_guide_000295_p168481958144319"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p5848145810434"><a name="admin_guide_000295_p5848145810434"></a><a name="admin_guide_000295_p5848145810434"></a>使用LdapServer备份数据进行恢复</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p284895874311"><a name="admin_guide_000295_p284895874311"></a><a name="admin_guide_000295_p284895874311"></a>无</p>
</td>
</tr>
</tbody>
</table>

## Loader高危操作<a name="admin_guide_000295_section12241152532714"></a>

**表 14**  Loader高危操作

<a name="admin_guide_000295_table32421225102713"></a>
<table><thead align="left"><tr id="admin_guide_000295_row1324213253276"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p1243425152715"><a name="admin_guide_000295_p1243425152715"></a><a name="admin_guide_000295_p1243425152715"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p102437259275"><a name="admin_guide_000295_p102437259275"></a><a name="admin_guide_000295_p102437259275"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p172431425122714"><a name="admin_guide_000295_p172431425122714"></a><a name="admin_guide_000295_p172431425122714"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p192431325182718"><a name="admin_guide_000295_p192431325182718"></a><a name="admin_guide_000295_p192431325182718"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p224312522715"><a name="admin_guide_000295_p224312522715"></a><a name="admin_guide_000295_p224312522715"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row16243172519279"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p12244112552714"><a name="admin_guide_000295_p12244112552714"></a><a name="admin_guide_000295_p12244112552714"></a>修改Loader实例的浮动IP地址loader.float.ip</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p824442512272"><a name="admin_guide_000295_p824442512272"></a><a name="admin_guide_000295_p824442512272"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1824417254271"><a name="admin_guide_000295_p1824417254271"></a><a name="admin_guide_000295_p1824417254271"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p11244725152715"><a name="admin_guide_000295_p11244725152715"></a><a name="admin_guide_000295_p11244725152715"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1824513251278"><a name="admin_guide_000295_p1824513251278"></a><a name="admin_guide_000295_p1824513251278"></a>观察Loader UI是否可以正常连接</p>
</td>
</tr>
<tr id="admin_guide_000295_row124522517275"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p02451225182716"><a name="admin_guide_000295_p02451225182716"></a><a name="admin_guide_000295_p02451225182716"></a>修改Loader实例的启动参数LOADER_GC_OPTS</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p7245172502716"><a name="admin_guide_000295_p7245172502716"></a><a name="admin_guide_000295_p7245172502716"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1824552517271"><a name="admin_guide_000295_p1824552517271"></a><a name="admin_guide_000295_p1824552517271"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p324572513270"><a name="admin_guide_000295_p324572513270"></a><a name="admin_guide_000295_p324572513270"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p2024512592712"><a name="admin_guide_000295_p2024512592712"></a><a name="admin_guide_000295_p2024512592712"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row1324572516276"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p3246192532710"><a name="admin_guide_000295_p3246192532710"></a><a name="admin_guide_000295_p3246192532710"></a>往HBase导入数据时，选择清空表数据</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p2246162512278"><a name="admin_guide_000295_p2246162512278"></a><a name="admin_guide_000295_p2246162512278"></a>目标表的原数据被清空</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p11246142512714"><a name="admin_guide_000295_p11246142512714"></a><a name="admin_guide_000295_p11246142512714"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p18246162592714"><a name="admin_guide_000295_p18246162592714"></a><a name="admin_guide_000295_p18246162592714"></a>选择时，确保目标表的数据可以清空</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p152461325172716"><a name="admin_guide_000295_p152461325172716"></a><a name="admin_guide_000295_p152461325172716"></a>选择前，需确认目标表数据是否可以清空</p>
</td>
</tr>
</tbody>
</table>

## Spark2x高危操作<a name="admin_guide_000295_section331942312513"></a>

>![](public_sys-resources/icon-note.gif) **说明：** 
>MRS 3.x之前版本，服务名称为为Spark。

**表 15**  Spark2x高危操作

<a name="admin_guide_000295_table73191323112513"></a>
<table><thead align="left"><tr id="admin_guide_000295_row1631919231252"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p10319423192519"><a name="admin_guide_000295_p10319423192519"></a><a name="admin_guide_000295_p10319423192519"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p1732052317258"><a name="admin_guide_000295_p1732052317258"></a><a name="admin_guide_000295_p1732052317258"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p5320132362510"><a name="admin_guide_000295_p5320132362510"></a><a name="admin_guide_000295_p5320132362510"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p173201233253"><a name="admin_guide_000295_p173201233253"></a><a name="admin_guide_000295_p173201233253"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p12320172319251"><a name="admin_guide_000295_p12320172319251"></a><a name="admin_guide_000295_p12320172319251"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row163208238255"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p11320202313250"><a name="admin_guide_000295_p11320202313250"></a><a name="admin_guide_000295_p11320202313250"></a>配置项的修改（spark.yarn.queue）</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p032062382519"><a name="admin_guide_000295_p032062382519"></a><a name="admin_guide_000295_p032062382519"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p153201523162511"><a name="admin_guide_000295_p153201523162511"></a><a name="admin_guide_000295_p153201523162511"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p8320112311252"><a name="admin_guide_000295_p8320112311252"></a><a name="admin_guide_000295_p8320112311252"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p43201623142517"><a name="admin_guide_000295_p43201623142517"></a><a name="admin_guide_000295_p43201623142517"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row1532122315259"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p13321112382510"><a name="admin_guide_000295_p13321112382510"></a><a name="admin_guide_000295_p13321112382510"></a>配置项的修改（spark.driver.extraJavaOptions）</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p17321323122513"><a name="admin_guide_000295_p17321323122513"></a><a name="admin_guide_000295_p17321323122513"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p63211823142520"><a name="admin_guide_000295_p63211823142520"></a><a name="admin_guide_000295_p63211823142520"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1132116231250"><a name="admin_guide_000295_p1132116231250"></a><a name="admin_guide_000295_p1132116231250"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p53212234254"><a name="admin_guide_000295_p53212234254"></a><a name="admin_guide_000295_p53212234254"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row18321923162510"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p4321152320255"><a name="admin_guide_000295_p4321152320255"></a><a name="admin_guide_000295_p4321152320255"></a>配置项的修改（spark.yarn.cluster.driver.extraJavaOptions）</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p53216237255"><a name="admin_guide_000295_p53216237255"></a><a name="admin_guide_000295_p53216237255"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1332172313251"><a name="admin_guide_000295_p1332172313251"></a><a name="admin_guide_000295_p1332172313251"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p2321172332516"><a name="admin_guide_000295_p2321172332516"></a><a name="admin_guide_000295_p2321172332516"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p6321182322513"><a name="admin_guide_000295_p6321182322513"></a><a name="admin_guide_000295_p6321182322513"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row43211923162511"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1932272314259"><a name="admin_guide_000295_p1932272314259"></a><a name="admin_guide_000295_p1932272314259"></a>配置项的修改（spark.eventLog.dir）</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p3322123162514"><a name="admin_guide_000295_p3322123162514"></a><a name="admin_guide_000295_p3322123162514"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p8322142312510"><a name="admin_guide_000295_p8322142312510"></a><a name="admin_guide_000295_p8322142312510"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p133227230252"><a name="admin_guide_000295_p133227230252"></a><a name="admin_guide_000295_p133227230252"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1632262310254"><a name="admin_guide_000295_p1632262310254"></a><a name="admin_guide_000295_p1632262310254"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row163221233255"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p18322122310256"><a name="admin_guide_000295_p18322122310256"></a><a name="admin_guide_000295_p18322122310256"></a>配置项的修改（SPARK_DAEMON_JAVA_OPTS）</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p14322112317259"><a name="admin_guide_000295_p14322112317259"></a><a name="admin_guide_000295_p14322112317259"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p33221423132518"><a name="admin_guide_000295_p33221423132518"></a><a name="admin_guide_000295_p33221423132518"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p4322523192517"><a name="admin_guide_000295_p4322523192517"></a><a name="admin_guide_000295_p4322523192517"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p4322162316255"><a name="admin_guide_000295_p4322162316255"></a><a name="admin_guide_000295_p4322162316255"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row103221223142514"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1032211234252"><a name="admin_guide_000295_p1032211234252"></a><a name="admin_guide_000295_p1032211234252"></a>删除所有JobHistory2x实例</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1132292310256"><a name="admin_guide_000295_p1132292310256"></a><a name="admin_guide_000295_p1132292310256"></a>导致历史应用的event log丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p8322223162519"><a name="admin_guide_000295_p8322223162519"></a><a name="admin_guide_000295_p8322223162519"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p163221323132515"><a name="admin_guide_000295_p163221323132515"></a><a name="admin_guide_000295_p163221323132515"></a>至少保留一个JobHistory2x实例</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p16323523192517"><a name="admin_guide_000295_p16323523192517"></a><a name="admin_guide_000295_p16323523192517"></a>观察JobHistory2x中是否可以查看历史应用信息</p>
</td>
</tr>
<tr id="admin_guide_000295_row5323102316256"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p113239238258"><a name="admin_guide_000295_p113239238258"></a><a name="admin_guide_000295_p113239238258"></a>删除或修改HDFS上的/user/spark2x/jars/<span id="admin_guide_000295_text13323923162512"><a name="admin_guide_000295_text13323923162512"></a><a name="admin_guide_000295_text13323923162512"></a>8.1.0.1</span>/spark-archive-2x.zip</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p93231723122515"><a name="admin_guide_000295_p93231723122515"></a><a name="admin_guide_000295_p93231723122515"></a>导致JDBCServer2x启动异常及业务功能异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p13323152317252"><a name="admin_guide_000295_p13323152317252"></a><a name="admin_guide_000295_p13323152317252"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p8323152342510"><a name="admin_guide_000295_p8323152342510"></a><a name="admin_guide_000295_p8323152342510"></a>删除/user/spark2x/jars/<span id="admin_guide_000295_text12323142382514"><a name="admin_guide_000295_text12323142382514"></a><a name="admin_guide_000295_text12323142382514"></a>8.1.0.1</span>/spark-archive-2x.zip，等待10-15分钟，zip包自动恢复</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1732342322516"><a name="admin_guide_000295_p1732342322516"></a><a name="admin_guide_000295_p1732342322516"></a>观察服务能否正常启动</p>
</td>
</tr>
</tbody>
</table>

## Storm高危操作<a name="admin_guide_000295_section6862207163620"></a>

**表 16**  Storm高危操作

<a name="admin_guide_000295_table38622073367"></a>
<table><thead align="left"><tr id="admin_guide_000295_row18633713365"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p8863137183619"><a name="admin_guide_000295_p8863137183619"></a><a name="admin_guide_000295_p8863137183619"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p18646711360"><a name="admin_guide_000295_p18646711360"></a><a name="admin_guide_000295_p18646711360"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p1186412716366"><a name="admin_guide_000295_p1186412716366"></a><a name="admin_guide_000295_p1186412716366"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p886416710369"><a name="admin_guide_000295_p886416710369"></a><a name="admin_guide_000295_p886416710369"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p188655718366"><a name="admin_guide_000295_p188655718366"></a><a name="admin_guide_000295_p188655718366"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row188658723610"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1386577153614"><a name="admin_guide_000295_p1386577153614"></a><a name="admin_guide_000295_p1386577153614"></a>修改插件相关的配置项：</p>
<a name="admin_guide_000295_ul1286510712362"></a><a name="admin_guide_000295_ul1286510712362"></a><ul id="admin_guide_000295_ul1286510712362"><li>storm.scheduler</li><li>nimbus.authorizer</li><li>storm.thrift.transport</li><li>nimbus.blobstore.class</li><li>nimbus.topology.validator</li><li>storm.principal.tolocal</li></ul>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p686718716368"><a name="admin_guide_000295_p686718716368"></a><a name="admin_guide_000295_p686718716368"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p168671375363"><a name="admin_guide_000295_p168671375363"></a><a name="admin_guide_000295_p168671375363"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p08671720363"><a name="admin_guide_000295_p08671720363"></a><a name="admin_guide_000295_p08671720363"></a>修改相关配置项时请严格按照提示描述，确保修改后的类名是存在并有效的</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p386707163611"><a name="admin_guide_000295_p386707163611"></a><a name="admin_guide_000295_p386707163611"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row986713733612"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p3867167133613"><a name="admin_guide_000295_p3867167133613"></a><a name="admin_guide_000295_p3867167133613"></a>修改Storm实例的启动参数GC_OPTS</p>
<p id="admin_guide_000295_p1786815712367"><a name="admin_guide_000295_p1786815712367"></a><a name="admin_guide_000295_p1786815712367"></a>NIMBUS_GC_OPTS</p>
<p id="admin_guide_000295_p1486807153614"><a name="admin_guide_000295_p1486807153614"></a><a name="admin_guide_000295_p1486807153614"></a>SUPERVISOR_GC_OPTS</p>
<p id="admin_guide_000295_p12868871367"><a name="admin_guide_000295_p12868871367"></a><a name="admin_guide_000295_p12868871367"></a>UI_GC_OPTS</p>
<p id="admin_guide_000295_p486814783611"><a name="admin_guide_000295_p486814783611"></a><a name="admin_guide_000295_p486814783611"></a>LOGVIEWER_GC_OPTS</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p0868473366"><a name="admin_guide_000295_p0868473366"></a><a name="admin_guide_000295_p0868473366"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p138681773613"><a name="admin_guide_000295_p138681773613"></a><a name="admin_guide_000295_p138681773613"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p58686717369"><a name="admin_guide_000295_p58686717369"></a><a name="admin_guide_000295_p58686717369"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p20868127103611"><a name="admin_guide_000295_p20868127103611"></a><a name="admin_guide_000295_p20868127103611"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row1686813783615"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p118691979368"><a name="admin_guide_000295_p118691979368"></a><a name="admin_guide_000295_p118691979368"></a>修改用户资源池配置参数resource.aware.scheduler.user.pools</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1686910773615"><a name="admin_guide_000295_p1686910773615"></a><a name="admin_guide_000295_p1686910773615"></a>导致业务提交后无法正常运行</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p118691717364"><a name="admin_guide_000295_p118691717364"></a><a name="admin_guide_000295_p118691717364"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1786987103612"><a name="admin_guide_000295_p1786987103612"></a><a name="admin_guide_000295_p1786987103612"></a>修改相关配置项时请严格按照提示描述，确保给每个用户分配的资源合理有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p886911714368"><a name="admin_guide_000295_p886911714368"></a><a name="admin_guide_000295_p886911714368"></a>观察服务能否正常启动并且业务能否正常运行</p>
<p id="admin_guide_000295_p3869077367"><a name="admin_guide_000295_p3869077367"></a><a name="admin_guide_000295_p3869077367"></a></p>
</td>
</tr>
<tr id="admin_guide_000295_row0870171363"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p16870575366"><a name="admin_guide_000295_p16870575366"></a><a name="admin_guide_000295_p16870575366"></a>修改数据目录</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1887014753616"><a name="admin_guide_000295_p1887014753616"></a><a name="admin_guide_000295_p1887014753616"></a>该操作不当会导致服务异常，无法提供服务</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p128715718366"><a name="admin_guide_000295_p128715718366"></a><a name="admin_guide_000295_p128715718366"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1487113783617"><a name="admin_guide_000295_p1487113783617"></a><a name="admin_guide_000295_p1487113783617"></a>请勿手动操作数据目录</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p38719733610"><a name="admin_guide_000295_p38719733610"></a><a name="admin_guide_000295_p38719733610"></a>观察数据目录是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row88711714369"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p98711783617"><a name="admin_guide_000295_p98711783617"></a><a name="admin_guide_000295_p98711783617"></a>重启服务/实例</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1187167173616"><a name="admin_guide_000295_p1187167173616"></a><a name="admin_guide_000295_p1187167173616"></a>该操作会导致服务有短暂中断，如果有业务运行也会引起业务短暂中断</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p9872117153617"><a name="admin_guide_000295_p9872117153617"></a><a name="admin_guide_000295_p9872117153617"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1687217773614"><a name="admin_guide_000295_p1687217773614"></a><a name="admin_guide_000295_p1687217773614"></a>确保在必要时重启服务</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p58727743611"><a name="admin_guide_000295_p58727743611"></a><a name="admin_guide_000295_p58727743611"></a>观察服务是否运行正常，业务是否恢复</p>
</td>
</tr>
<tr id="admin_guide_000295_row11872075364"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p2872670366"><a name="admin_guide_000295_p2872670366"></a><a name="admin_guide_000295_p2872670366"></a>同步配置（重启服务）</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p19873127143615"><a name="admin_guide_000295_p19873127143615"></a><a name="admin_guide_000295_p19873127143615"></a>该操作会引起服务重启，导致服务短暂中断，若引起Supervisor重启会导致所运行业务短暂中断</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p58734715365"><a name="admin_guide_000295_p58734715365"></a><a name="admin_guide_000295_p58734715365"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p7873207163611"><a name="admin_guide_000295_p7873207163611"></a><a name="admin_guide_000295_p7873207163611"></a>确保在必要时修改配置</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p1887316714362"><a name="admin_guide_000295_p1887316714362"></a><a name="admin_guide_000295_p1887316714362"></a>观察服务是否运行正常，业务是否恢复</p>
</td>
</tr>
<tr id="admin_guide_000295_row188731271365"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1087314773619"><a name="admin_guide_000295_p1087314773619"></a><a name="admin_guide_000295_p1087314773619"></a>停止服务/实例</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p158735743618"><a name="admin_guide_000295_p158735743618"></a><a name="admin_guide_000295_p158735743618"></a>该操作会导致服务停止，业务中断</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1587419712362"><a name="admin_guide_000295_p1587419712362"></a><a name="admin_guide_000295_p1587419712362"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p1587411773618"><a name="admin_guide_000295_p1587411773618"></a><a name="admin_guide_000295_p1587411773618"></a>确保在必要时停止服务</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p7874127143611"><a name="admin_guide_000295_p7874127143611"></a><a name="admin_guide_000295_p7874127143611"></a>观察服务是否正常停止</p>
</td>
</tr>
<tr id="admin_guide_000295_row15874578368"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1787418723620"><a name="admin_guide_000295_p1787418723620"></a><a name="admin_guide_000295_p1787418723620"></a>删除/修改元数据</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p148746717362"><a name="admin_guide_000295_p148746717362"></a><a name="admin_guide_000295_p148746717362"></a>删除Nimbus元数据会导致服务异常，并且已运行业务丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p13875157113614"><a name="admin_guide_000295_p13875157113614"></a><a name="admin_guide_000295_p13875157113614"></a>★★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p198751475362"><a name="admin_guide_000295_p198751475362"></a><a name="admin_guide_000295_p198751475362"></a>请勿手动删除Nimbus元数据文件</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p198758773617"><a name="admin_guide_000295_p198758773617"></a><a name="admin_guide_000295_p198758773617"></a>观察Nimbus元数据文件是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row68751972367"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1487519793611"><a name="admin_guide_000295_p1487519793611"></a><a name="admin_guide_000295_p1487519793611"></a>修改文件权限</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p1387567203614"><a name="admin_guide_000295_p1387567203614"></a><a name="admin_guide_000295_p1387567203614"></a>修改元数据目录和日志目录权限不当会引起服务异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1087517723614"><a name="admin_guide_000295_p1087517723614"></a><a name="admin_guide_000295_p1087517723614"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p68761471361"><a name="admin_guide_000295_p68761471361"></a><a name="admin_guide_000295_p68761471361"></a>请勿手动修改文件权限</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p208761875364"><a name="admin_guide_000295_p208761875364"></a><a name="admin_guide_000295_p208761875364"></a>观察数据目录和日志目录权限是否正常</p>
</td>
</tr>
<tr id="admin_guide_000295_row78767723610"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p387617133620"><a name="admin_guide_000295_p387617133620"></a><a name="admin_guide_000295_p387617133620"></a>删除拓扑</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p78762714369"><a name="admin_guide_000295_p78762714369"></a><a name="admin_guide_000295_p78762714369"></a>该操作会删除正在运行中的拓扑</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1787616793611"><a name="admin_guide_000295_p1787616793611"></a><a name="admin_guide_000295_p1787616793611"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p587714714362"><a name="admin_guide_000295_p587714714362"></a><a name="admin_guide_000295_p587714714362"></a>确保在必要时删除拓扑</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p787718713619"><a name="admin_guide_000295_p787718713619"></a><a name="admin_guide_000295_p787718713619"></a>观察拓扑是否删除成功</p>
</td>
</tr>
</tbody>
</table>

## Yarn高危操作<a name="admin_guide_000295_section15526102563"></a>

**表 17**  Yarn高危操作

<a name="admin_guide_000295_table19662131295617"></a>
<table><thead align="left"><tr id="admin_guide_000295_row13662101225618"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p126621812195612"><a name="admin_guide_000295_p126621812195612"></a><a name="admin_guide_000295_p126621812195612"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p36629124563"><a name="admin_guide_000295_p36629124563"></a><a name="admin_guide_000295_p36629124563"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p166621112185613"><a name="admin_guide_000295_p166621112185613"></a><a name="admin_guide_000295_p166621112185613"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p1266271212568"><a name="admin_guide_000295_p1266271212568"></a><a name="admin_guide_000295_p1266271212568"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p1766211217563"><a name="admin_guide_000295_p1766211217563"></a><a name="admin_guide_000295_p1766211217563"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row14662101205610"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1866315123567"><a name="admin_guide_000295_p1866315123567"></a><a name="admin_guide_000295_p1866315123567"></a>删除或者修改数据目录yarn.nodemanager.local-dirs和yarn.nodemanager.log-dirs</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p0663141265619"><a name="admin_guide_000295_p0663141265619"></a><a name="admin_guide_000295_p0663141265619"></a>该操作将会导致业务信息丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p196637125560"><a name="admin_guide_000295_p196637125560"></a><a name="admin_guide_000295_p196637125560"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p156631012135612"><a name="admin_guide_000295_p156631012135612"></a><a name="admin_guide_000295_p156631012135612"></a>请勿手动删除数据目录</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p18663131215569"><a name="admin_guide_000295_p18663131215569"></a><a name="admin_guide_000295_p18663131215569"></a>观察数据目录是否正常</p>
</td>
</tr>
</tbody>
</table>

## ZooKeeper高危操作<a name="admin_guide_000295_section159931554112513"></a>

**表 18**  ZooKeeper高危操作

<a name="admin_guide_000295_table169941954102512"></a>
<table><thead align="left"><tr id="admin_guide_000295_row20994135419259"><th class="cellrowborder" valign="top" width="15%" id="mcps1.2.6.1.1"><p id="admin_guide_000295_p899485432519"><a name="admin_guide_000295_p899485432519"></a><a name="admin_guide_000295_p899485432519"></a>操作名称</p>
</th>
<th class="cellrowborder" valign="top" width="33%" id="mcps1.2.6.1.2"><p id="admin_guide_000295_p12994654142512"><a name="admin_guide_000295_p12994654142512"></a><a name="admin_guide_000295_p12994654142512"></a>操作风险</p>
</th>
<th class="cellrowborder" valign="top" width="7.000000000000001%" id="mcps1.2.6.1.3"><p id="admin_guide_000295_p1699475417251"><a name="admin_guide_000295_p1699475417251"></a><a name="admin_guide_000295_p1699475417251"></a>风险等级</p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.2.6.1.4"><p id="admin_guide_000295_p19951154192518"><a name="admin_guide_000295_p19951154192518"></a><a name="admin_guide_000295_p19951154192518"></a>规避措施</p>
</th>
<th class="cellrowborder" valign="top" width="25%" id="mcps1.2.6.1.5"><p id="admin_guide_000295_p1199517543258"><a name="admin_guide_000295_p1199517543258"></a><a name="admin_guide_000295_p1199517543258"></a>重大操作观察项目</p>
</th>
</tr>
</thead>
<tbody><tr id="admin_guide_000295_row3995135452518"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p699545420251"><a name="admin_guide_000295_p699545420251"></a><a name="admin_guide_000295_p699545420251"></a>删除或者修改ZooKeeper的数据目录</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p2099595472514"><a name="admin_guide_000295_p2099595472514"></a><a name="admin_guide_000295_p2099595472514"></a>该操作将会导致业务信息丢失</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p10995165410254"><a name="admin_guide_000295_p10995165410254"></a><a name="admin_guide_000295_p10995165410254"></a>★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p149955547257"><a name="admin_guide_000295_p149955547257"></a><a name="admin_guide_000295_p149955547257"></a>修改ZooKeeper目录时候，严格按照扩容指导操作</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p4995754142515"><a name="admin_guide_000295_p4995754142515"></a><a name="admin_guide_000295_p4995754142515"></a>观察服务能否正常启动，关联组件能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row79952546254"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1699515414252"><a name="admin_guide_000295_p1699515414252"></a><a name="admin_guide_000295_p1699515414252"></a>修改ZooKeeper实例的启动参数GC_OPTS</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p5995195419251"><a name="admin_guide_000295_p5995195419251"></a><a name="admin_guide_000295_p5995195419251"></a>导致服务启动异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p149951254132514"><a name="admin_guide_000295_p149951254132514"></a><a name="admin_guide_000295_p149951254132514"></a>★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p49951454112517"><a name="admin_guide_000295_p49951454112517"></a><a name="admin_guide_000295_p49951454112517"></a>修改相关配置项时请严格按照提示描述，确保修改后的值有效</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p159961754132511"><a name="admin_guide_000295_p159961754132511"></a><a name="admin_guide_000295_p159961754132511"></a>观察服务能否正常启动</p>
</td>
</tr>
<tr id="admin_guide_000295_row39961554172516"><td class="cellrowborder" valign="top" width="15%" headers="mcps1.2.6.1.1 "><p id="admin_guide_000295_p1899611546256"><a name="admin_guide_000295_p1899611546256"></a><a name="admin_guide_000295_p1899611546256"></a>设置ZooKeeper中znode的ACL信息</p>
</td>
<td class="cellrowborder" valign="top" width="33%" headers="mcps1.2.6.1.2 "><p id="admin_guide_000295_p4996454142519"><a name="admin_guide_000295_p4996454142519"></a><a name="admin_guide_000295_p4996454142519"></a>修改ZooKeeper中znode的权限，可能会导致其他用户无权限访问该znode，导致系统功能异常</p>
</td>
<td class="cellrowborder" valign="top" width="7.000000000000001%" headers="mcps1.2.6.1.3 "><p id="admin_guide_000295_p1699605418253"><a name="admin_guide_000295_p1699605418253"></a><a name="admin_guide_000295_p1699605418253"></a>★★★★</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.2.6.1.4 "><p id="admin_guide_000295_p8996155412513"><a name="admin_guide_000295_p8996155412513"></a><a name="admin_guide_000295_p8996155412513"></a>修改相关配置项时请严格按照“ZooKeeper权限设置指南”章节操作，确保修改ACL信息，不会影响其他组件正常使用ZooKeeper</p>
</td>
<td class="cellrowborder" valign="top" width="25%" headers="mcps1.2.6.1.5 "><p id="admin_guide_000295_p6996954152517"><a name="admin_guide_000295_p6996954152517"></a><a name="admin_guide_000295_p6996954152517"></a>观察项目观察其他依赖ZooKeeper的组件能否正常启动，并提供服务</p>
</td>
</tr>
</tbody>
</table>

