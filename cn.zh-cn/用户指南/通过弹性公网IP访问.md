# 通过弹性公网IP访问<a name="ZH-CN_TOPIC_0173264859"></a>

为了方便用户访问开源组件的Web站点，MRS 1.8.0之后的集群支持通过为集群绑定弹性公网IP的方式，访问MRS集群上托管的开源组件。该方式更加简便易操作，推荐使用该方式访问开源组件的Web站点。

## 为集群绑定弹性公网IP并添加安全组规则<a name="section1664564712116"></a>

-   针对MRS 2.0.1及之后版本集群
    1.  在集群详情页的“概览”页签，单击“IAM用户同步“右侧的![](figures/icon_mrs_iam-8.png)进行IAM用户同步，待IAM用户同步成功后，在集群详情页会出现“组件管理”页签。

        **图 1**  组件管理<a name="fig12565520121916"></a>  
        ![](figures/组件管理-9.png "组件管理-9")

    2.  单击“组件管理”。
    3.  选择“HDFS \> NameNode WebUI \> NameNode \(主\)”，访问开源组件Web站点。此处仅以HDFS NameNode为例介绍，其他组件访问地址请参考[开源组件Web站点](开源组件Web站点.md)页面提供的站点地址。
    4.  弹出访问组件页面，绑定弹性公网IP并添加安全组规则。仅首次访问该集群的组件开源站点时，需要如下配置。
        1.  绑定弹性公网IP，在弹性公网IP下拉框中选择可用的弹性公网IP。若没有可用的弹性公网IP，请单击“管理弹性公网IP“购买弹性公网IP后在该页面引用。若创建集群时已绑定弹性公网IP，请跳过该步骤。
        2.  添加安全组规则，默认填充的是用户访问公网IP地址9022端口的规则。如需对安全组规则进行查看，修改和删除操作，请单击“管理安全组规则“。

            >![](public_sys-resources/icon-note.gif) **说明：**   
            >-   自动获取的访问公网IP与用户本机IP不一致，属于正常现象，无需处理。  
            >-   9022端口为knox的端口，需要开启访问knox的9022端口权限，才能访问MRS组件。  

        3.  勾选“我确认xx.xx.xx.xx为可信任的公网访问IP，并允许从该IP访问组件页面。“

            **图 2**  访问组件页面<a name="fig1499010361525"></a>  
            ![](figures/访问组件页面.png "访问组件页面")

        4.  单击“确定“，进入组件登录页面，用户名使用“admin”，密码为创建集群时设置的admin密码。


-   针对MRS 1.8.x版本集群
    1.  在集群详情页面的“概览”页签，单击“集群管理页面”右侧的“点击查看”。

        **图 3**  集群管理页面<a name="fig152964307113"></a>  
        ![](figures/集群管理页面.png "集群管理页面")

    2.  绑定弹性公网IP并添加安全组规则。

        1.  绑定弹性公网IP，在弹性公网IP下拉框中选择可用的弹性公网IP。若没有可用的弹性公网IP，请单击“管理弹性公网IP“购买弹性公网IP后在该页面引用。若创建集群时已绑定弹性公网IP，请跳过该步骤。
        2.  添加安全组规则，默认填充的是用户访问公网IP地址9022端口的规则。如需对安全组规则进行查看，修改和删除操作，请单击“管理安全组规则“。

            >![](public_sys-resources/icon-note.gif) **说明：**   
            >-   自动获取的访问公网IP与用户本机IP不一致，属于正常现象，无需处理。  
            >-   9022端口为knox的端口，需要开启访问knox的9022端口权限，才能访问MRS Manager服务。  

        3.  勾选“我确认xx.xx.xx.xx为可信任的公网访问IP，并允许从该IP访问MRS Manager页面。“

        **图 4**  添加访问MRS Manager的安全组规则<a name="zh-cn_topic_0035209594_fig1768919558220"></a>  
        ![](figures/添加访问MRS-Manager的安全组规则.png "添加访问MRS-Manager的安全组规则")

    3.  单击“确定“，进入MRS Manager登录页面，用户名使用“admin”，密码为创建集群时设置的admin密码。
    4.  请参考[开源组件Web站点](开源组件Web站点.md)页面提供的站点地址访问开源组件Web站点。


