# 管理集群配置<a name="admin_guide_000016"></a>

## 操作场景<a name="section121650365211"></a>

FusionInsight Manager支持一键查看集群内各服务配置参数的变动情况，方便用户快速排查定位问题，提升配置管理效率。

管理员可通过配置界面快速查看集群内各服务所有非初始默认值、同一角色实例之间非统一值、集群配置修改的历史记录、集群内当前配置状态为过期的参数。

## 操作步骤<a name="section1779312447219"></a>

1.  登录FusionInsight Manager。
2.  选择“集群  \>  _待操作集群的名称_  \> 配置“。
3.  根据操作场景，选择对应操作页面：

    -   查看所有非默认值：
        1.  单击“所有非默认值”，界面将显示当前集群内各服务、角色或实例的配置参数中，与初始默认值不一致的参数项。

            单击参数值后面的![](figures/zh-cn_image_0263899617.png)图标可快速恢复配置项的参数值至系统默认值，单击![](figures/zh-cn_image_0279536633.png)图标可查看该配置项的历史修改记录。

            配置参数较多时，可通过界面右上角的服务过滤框进行筛选，或者在搜索框中直接搜索关键字。

        2.  如需修改配置项参数值，根据参数描述修改配置后，单击“保存”，在弹出的窗口中单击“确定”。

    -   查看所有非统一值：
        1.  单击“所有非统一值”，界面将显示当前集群内角色级别、服务级别、实例组级别或实例级别的存在差异化配置的配置项。

            单击参数值后面的![](figures/zh-cn_image_0263899556.png)图标，在弹出的窗口中可查看具体的差异项。

        2.  如需修改配置项参数值，可单击![](figures/zh-cn_image_0263899589.png)取消下层的配置差异化或手动调整，然后单击“确定”，再单击“保存”，在弹出的窗口中单击“确定”。

    -   查看过期配置：
        1.  单击“过期配置”，界面将显示当前集群内配置过期的配置项。
        2.  可通过界面上方的服务过滤框进行筛选，查看不同服务的过期配置，或者在搜索框中直接搜索关键字。
        3.  处于过期状态的配置项并未完全生效，在不影响业务情况下，请及时重启配置过期的服务或实例。

    -   查看历史配置记录：
        1.  单击“历史配置”，界面将显示当前集群的历史配置变更记录，用户可查看具体的参数值变动详情，包括所属服务、修改前与修改后的参数值、参数文件等内容。
        2.  如需还原某次配置变更，可单击记录所在行“操作”列的“还原配置”按钮，在弹出的窗口中单击“确定”。

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >部分配置项在修改参数值后需重启对应服务才会生效，在保存配置后请及时重启配置过期的服务或实例。


