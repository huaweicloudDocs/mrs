# Hive中的告警有哪些以及触发的场景<a name="ZH-CN_TOPIC_0207461489"></a>

## Hive中的告警<a name="zh-cn_topic_0167274975_section28561035132317"></a>

<a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_table62644428"></a>
<table><thead align="left"><tr id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_row13148517"><th class="cellrowborder" valign="top" width="20%" id="mcps1.1.6.1.1"><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p58396974"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p58396974"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p58396974"></a><strong id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_b55810719"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_b55810719"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_b55810719"></a>告警ID</strong></p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.1.6.1.2"><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p24374351"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p24374351"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p24374351"></a><strong id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_b18042568"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_b18042568"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_b18042568"></a>告警级别</strong></p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.1.6.1.3"><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p52161898"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p52161898"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p52161898"></a><strong id="zh-cn_topic_0167274975_b101564402561"><a name="zh-cn_topic_0167274975_b101564402561"></a><a name="zh-cn_topic_0167274975_b101564402561"></a>可自动清除</strong></p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.1.6.1.4"><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p42406858"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p42406858"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p42406858"></a><strong id="zh-cn_topic_0167274975_b035394717565"><a name="zh-cn_topic_0167274975_b035394717565"></a><a name="zh-cn_topic_0167274975_b035394717565"></a>告警名称</strong></p>
</th>
<th class="cellrowborder" valign="top" width="20%" id="mcps1.1.6.1.5"><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p44522499"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p44522499"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p44522499"></a><strong id="zh-cn_topic_0167274975_b1313585510565"><a name="zh-cn_topic_0167274975_b1313585510565"></a><a name="zh-cn_topic_0167274975_b1313585510565"></a>告警类型</strong></p>
</th>
</tr>
</thead>
<tbody><tr id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_row43320494"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.1 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p19299134"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p19299134"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p19299134"></a>16000</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.2 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p19726002"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p19726002"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p19726002"></a>Minor</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.3 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p54302323"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p54302323"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p54302323"></a>TRUE</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.4 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p36412008"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p36412008"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p36412008"></a>Percentage of Sessions Connected to the HiveServer to Maximum Number Allowed Exceeds the Threshold</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.5 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p63691513"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p63691513"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p63691513"></a>故障告警</p>
</td>
</tr>
<tr id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_row36352712"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.1 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p58888592"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p58888592"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p58888592"></a>16001</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.2 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p5246632"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p5246632"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p5246632"></a>Minor</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.3 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p22324024"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p22324024"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p22324024"></a>TRUE</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.4 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p63415529"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p63415529"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p63415529"></a>Hive Warehouse Space Usage Exceeds the Threshold</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.5 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p36384226"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p36384226"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p36384226"></a>故障告警</p>
</td>
</tr>
<tr id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_row59022586"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.1 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p16100147"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p16100147"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p16100147"></a>16002</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.2 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p29043529"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p29043529"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p29043529"></a>Minor</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.3 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p3715619"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p3715619"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p3715619"></a>TRUE</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.4 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p32529705"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p32529705"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p32529705"></a>The Successful Hive SQL Operations Lower than The Threshold</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.5 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p17660485"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p17660485"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p17660485"></a>故障告警</p>
</td>
</tr>
<tr id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_row22662742"><td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.1 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p23742817"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p23742817"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p23742817"></a>16004</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.2 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p44120000"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p44120000"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p44120000"></a>Critical</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.3 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p16950236"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p16950236"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p16950236"></a>TRUE</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.4 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p30791836"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p30791836"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p30791836"></a>Hive Service Unavailable</p>
</td>
<td class="cellrowborder" valign="top" width="20%" headers="mcps1.1.6.1.5 "><p id="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p11110760"><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p11110760"></a><a name="zh-cn_topic_0167274975_zh-cn_topic_0034111147_p11110760"></a>故障告警</p>
</td>
</tr>
</tbody>
</table>

告警触发场景

-   16000：当连接HiveServer的session数占允许连接总数的比率超过设定的阈值的时候触发告警。如连接的session数为9，总连接数为12，设定的阈值为70%，9/12 \> 70%便触发告警。
-   16001：当Hive使用的HDFS容量占分配给Hive的HDFS总容量的比率超过设定的阈值时触发告警。如分配给Hive的是500G，Hive已经使用400G，设定的阈值时75%，400/500 \> 75%便触发告警。
-   16002：当执行SQL的成功率低于设定的阈值时变触发告警。如你执行了4条失败了2条，设定的阈值为60%，成功率2/4 < 60%便触发告警。
-   16004：Hive服务的健康状态变为Bad时触发告警。

>![](public_sys-resources/icon-note.gif) **说明：**   
>-   告警的阈值和告警的级别以及触发告警的时间段可以在MRS Manager界面的“系统设置 \> 阈值配置“中设定。  
>-   Hive运行相关的指标可以在Hive监控界面查看。  

