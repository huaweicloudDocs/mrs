# 查询或者删除文件失败，父目录可以看见此文件（不可见字符）<a name="mrs_03_0090"></a>

## 问题背景与现象<a name="zh-cn_topic_0167274857_s158e8e298d8e463baa11b441927c46e8"></a>

使用HDFS的shell客户端查询或者删除文件失败，父目录可以看见此文件。

**图 1**  父目录文件列表<a name="zh-cn_topic_0167274857_fig1581710453578"></a>  
![](figures/父目录文件列表.png "父目录文件列表")

## 原因分析<a name="zh-cn_topic_0167274857_s66462fbbe386437f923a475bfab597d6"></a>

可能是该文件写入时有异常，写入了不可见字符。可以将该文件名重定向写入本地文本中，使用**vi**命令打开。

**hdfs dfs -ls   **_父目录_**  \>   /tmp/t.txt**

**vi /tmp/t.txt**

然后输入命令“**:set list**”将文件名的不可见字符显示出来。如这里显示出文件名中包含“**^M**”不可见字符。

**图 2**  显示不可见字符<a name="zh-cn_topic_0167274857_fig379719281235"></a>  
![](figures/显示不可见字符.png "显示不可见字符")

## 解决办法<a name="zh-cn_topic_0167274857_section171802562223"></a>

1.  使用shell命令读到文本中记录的该文件名，确认如下命令输出的是该文件在HDFS中的全路径。

    **cat /tmp/t.txt |awk '\{print $8\}'**

    **图 3**  文件路径<a name="zh-cn_topic_0167274857_fig11236961344"></a>  
    ![](figures/文件路径.png "文件路径")

2.  使用如下命令删除该文件。

    **hdfs dfs -rm $\(cat /tmp/t.txt |awk '\{print $8\}'\)**

3.  查看确认该文件已被删除。

    **hdfs dfs -ls   **_父目录_


